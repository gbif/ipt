#summary GBIF IPT User manual - Chapter 3
<font color=red>
_Warning: This page relates to the deprecated version 1 of the IPT_
</font>

= The GBIF Integrated Publishing Toolkit User Manual =

<wiki:toc max_depth="3" />

= 3. Installation =

== 3.1  Requirements ==

The IPT will run on any of the most widespread Operating Systems (Linux, Mac OS (TM), MS Windows (TM)) provided that:

  * Java (TM) runtime environment (http://java.sun.com/) version 5 or higher is installed;
  * a web server with a servlet container, such as Apache Tomcat (http://tomcat.apache.org/) or Jetty (http://jetty.mortbay.com/), is installed and connected to the internet.

== 3.2  Brief overview of Java and Tomcat installation and configuration ==

It is beyond the scope of this manual to provide detailed installation and configuration instructions for the virtual machine and the server. Here is a quick overview for MS Windows (TM) and Mac OS (TM) computers.

=== 3.2.1  Java ===

Mac OS X (TM) includes a fully configured and ready-to-use Java runtime environment. For MS Windows (TM) machines, follow these steps to install:

  # Download the Java 2 Standard Edition Runtime Environment (JRE), release version 5.0 or later, from http://java.sun.com/j2se.
  # Install the JRE according to the instructions included with the release.
  # Set an environment variable named JRE_HOME to the pathname of the directory into which you installed the JRE, e.g. c:\jre5.0:
    # Open the Control Panel and click the System icon.
    # Go to the Advanced pane and click the Environment variables button.
    # In the System variables section, click New. In the Variable name box, type JRE_HOME; in the Variable value box, type the path to the JRE e.g. C:\Program Files\Java\jre6

=== 3.2.2  Application server ===

The IPT should run in any compliant java application server using Java 1.5. Tomcat 5.5 is recommended for the installation. It was also successfully tested on Tomcat 6 and Jetty.

The application server will require a rather large amount of memory allocated as the IPT runs a full database. It is recommended to increase the server’s available memory to at least 1GB (see general instructions below).

Tomcat installation

  # Download a binary distribution of Tomcat from
  http://tomcat.apache.org/download-55.cgi.
  # Unpack the binary distribution into a location of your choice (e.g. C:\apache-tomcat-5.5.27)
  # Open a command prompt window and navigate to the installation folder.
  # Mac OS only: some files need to have their permissions adapted: type ’sudo chmod 775 *’ at the command line. You will be asked for your administrative password.
  # Go to the bin folder and execute startut.bat (Window) or startup.sh (Mac OS). A new Tomcat window will open. You need to keep this window open.

Tomcat configuration

Tomcat comes with very little allocated memory. In order to improve performance levels, this amount should be increased depending on the physical memory on the server. If the server has at least 2GB of RAM, the available memory should be increased to 1GB. For more information on how to do this, see the following links:

  * http://explanatorygap.net/2005/03/06/configuring-tomcat-under-os-x-server-for-more-memory/
  * http://wiki.apache.org/tomcat/FAQ/Memory

== 3.3  IPT Installation ==

  # Download the web archive file (ipt-1.0.war at the time of writing) from the project downloads page:
  http://code.google.com/p/gbif-providertoolkit/downloads/list/downloads/list
  # Rename it to ipt.war and copy it into the webapps folder of the Tomcat installation directory.
  # Launch Tomcat:
    # open a command prompt (MS Windows(TM)) or a terminal window (Mac OS (TM))
    # navigate to the Tomcat installation folder
    # go to the bin folder and execute startup.bat (windows) or startup.sh (Mac OS)
  # The IPT can then be accessed in any browser at http://localhost:8080/ipt/

== 3.4  Geoserver Installation ==

GeoServer (http://geoserver.org/) is an open source software server written in Java that allows users to share and edit geospatial data. It is used to run IPT geographic web services via a plugin that can access the IPT cache. If there is already a geoserver installation on the server, only the plugin needs to be installed. If there is no such installation, a geoserver archive bundled with the plugin is provided.

=== 3.4.1  Geoserver and bundled plugin installation ===

This installation is required if the Geoserver is not yet installed on the machine.

  # Download the zipped archive from the project downloads page;
  # Extract it into the Tomcat webapps folder and rename it as ’geoserver’;
  # Restart Tomcat (shutdown.bat then startup.bat on MS Windows (TM), shutdown.sh and startup.sh on Mac OS(TM)).

=== 3.4.2  Plugin installation ===

If the Geoserver is already installed on the server, only the plugin needs to be installed.

  # Downoad the jar file from the project downloads page;
  # Install it in your existing Geoserver installation, in the geoserver/WEB-INF/lib folder;
  # Restart Tomcat (shutdown.bat then startup.bat on MS Windows (TM), shutdown.sh and startup.sh on Mac OS (TM)) .

== 3.5  Geoserver Configuration ==

In order to allow the IPT and the Geoserver to communicate to one another, it is necessary to define the IPT Base Directory. This is done by:

  * navigating with your web browser to http://localhost:8080/ipt/;
  * logging in with username admin and password admin;
  * navigating to Settings > Settings > IPT Base Directory;
  * pressing the Update Geoserver button.

This procedure will be explained with more details in the Configuration section of this document.

For more information about the Geoserver, please refer to its own manual: http://geoserver.org/

== 3.6  Mac OS X (TM) test installation ==

A standalone version without any dependencies is provided for Mac OS X. It is very easy to install as it only requires a simple click and is very convenient to test the IPT. It should not however be used for production purposes. At the time of writing, the disk image can be downloaded from the following address: ftp://ftp.gbif.org/projects/ipt/downloads/ipt-1.0b.8.dmg