#summary IPT 2.2 Release Notes

----
Copyright 2015 Global Biodiversity Information Facility Secretariat

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file 
except in compliance with the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0
 
Unless required by applicable law or agreed to in writing, software distributed under the 
License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, 
either express or implied. See the License for the specific language governing permissions 
and limitations under the License.
----
=Release Notes=

* IPT Version: 2.2*

<wiki:toc max_depth="3" />

==Upgrade instructions==

===A. Performing the upgrade===

*Warning 1*: Be sure to backup the IPT data directory before performing an upgrade. It is highly recommended to run scheduled backups of the IPT data directory in general. 

*Warning 2*: Once an IPT has been upgraded to 2.2, it will not be possible to downgrade to an earlier version due to changes to the IPT's configuration files.

*Warning 3*: Starting with 2.2, publishers are required to assign one of three machine-readable rights declarations to their data otherwise they will not be able to register their dataset with GBIF or make it globally discoverable through GBIF.org. If publishers cannot agree to publish their data under a [http://creativecommons.org/publicdomain/zero/1.0/legalcode CC0 1.0], [http://creativecommons.org/licenses/by/4.0/legalcode CC-BY 4.0] or [http://creativecommons.org/licenses/by-nc/4.0/legalcode CC-BY-NC 4.0] declaration, it is recommend to continue to use the previous version of the IPT for now. 

An upgrade can be performed in 3 steps:

  # Replace the previous .war file with the latest edition
  # Backup the existing data directory
  # Reuse the existing data directory during setup

===B. Post-upgrade instructions===

Once the upgrade is complete, resource managers should assign one of [http://creativecommons.org/publicdomain/zero/1.0/legalcode CC0 1.0], [http://creativecommons.org/licenses/by/4.0/legalcode CC-BY 4.0] or [http://creativecommons.org/licenses/by-nc/4.0/legalcode CC-BY-NC 4.0] to each of their datasets and then republish them. GBIF will begin working with existing publishers across the network during 2015 to ensure all datasets are assigned one of these three licenses For background on GBIF's new licensing policy click [http://www.gbif.org/terms/licences here].

Additionally, when after *upgrading from 2.0.5* is complete, resource managers should: 
  # Republish all occurrence and checklist resources (Windows hosted IPTs only). A [https://code.google.com/p/gbif-providertoolkit/issues/detail?id=1015 bug] in 2.0.5 caused names of files inside the Darwin Core Archive to be prefixed by a backward slash, e.g. "\meta.xml".
  # Check the geographic coverage is correct for each resource (if applicable). A bug in all earlier versions of the IPT caused bounding boxes to reset to global coverage following server restart on some locales. This was due to a [https://code.google.com/p/gbif-providertoolkit/issues/detail?id=1043 bug] interpreting decimal coordinates, and was been fixed already in 2.1

===C. New Features / Other===

  * IPT 2.2 now supports assigning DOIs to resources. To enable this feature, the IPT administrator must configure the IPT with a DataCite or EZID account. Please see these [IPT2ManualNotes#Configure_Organisations instructions] for help. To understand how the IPT assigns DOIs to datasets, refer to the [IPT2DOIWorkflow IPT's DOI workflows] page in the IPT wiki.
  * IPT 2.2 supports automatic generation of the resource citation. Please see these [IPT2ManualNotes#Citations instructions] for help.
  * IPT 2.2 performs basisOfRecord validation on all occurrence records. The implication is that each Occurrence core mapping must map the basisOfRecord term, and each basisOfRecord value must match the Darwin Core Type vocabulary.
  * IPT 2.2 publishes resource metadata using a new version of the GBIF Metadata Profile (v1.1). Publishers can now take advantage of the following changes:
    * it is possible to enter multiple resource contacts, creators, metadata providers, and project personnel
    * it is possible to enter metadata about multiple collections, including multiple specimen preservation methods
    * it is possible to enter an identifier and description for a project
    * it is possible to specify the update frequency of a dataset using a controlled vocabulary or providing a general description
    * it is possible to store a machine readable license (storing both the URL and title of the license) 
  * IPT 2.2 fixes a longstanding [https://code.google.com/p/gbif-providertoolkit/issues/detail?id=817 bug] when running the IPT using an Apache Reverse Proxy. Please refer to the [IPTServerPreparation Server Preparation] wiki page for more information using a reverse proxy or virtual host name for your IPT instance.
  * A new [IPT2ApplyingLicense guide] on how to apply a license to a dataset has been added to the IPT wiki.

==Dependency Notes==

This new version has been tested and designed to work on Tomcat 6.0 or 7.0. Since 2.1 the IPT no longer supports Java 5, and is designed to run on Java 6 or later. The IPT will end support for Java 6 in 2015, so please be proactive and plan a Java upgrade on your server soon.

==Viewing the IPT change log==

This version addressed a total of 85 issues: 38 Defects, 11 Enhancements, 18 Won't fix, 6 Duplicates, 1 Other, and 11 that were considered as Invalid. 
These are detailed in the [https://code.google.com/p/gbif-providertoolkit/issues/list?can=1&q=milestone=Release2.1&sort=status&colspec=ID%20Type%20Status%20Priority%20Milestone%20Owner%20Summary issue tracking system]
  
==When all else fails==

See the [FAQ], which continues to be updated with good questions.