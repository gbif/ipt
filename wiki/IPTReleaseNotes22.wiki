#summary IPT 2.2 Release Notes

----
Copyright 2015 Global Biodiversity Information Facility Secretariat

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file 
except in compliance with the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0
 
Unless required by applicable law or agreed to in writing, software distributed under the 
License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, 
either express or implied. See the License for the specific language governing permissions 
and limitations under the License.
----
=Release Notes=

* IPT Version: 2.2*

<wiki:toc max_depth="3" />

==Upgrade instructions==

===A. Performing the upgrade===

*Warning 1*: It is always a good idea to take the precaution of backing up the existing IPT 
data directory before performing an upgrade. 

*Warning 2*: Once an IPT has been upgraded to 2.2, it will not be possible to downgrade to an earlier version due to changes to the IPT's configuration files.

*Warning 3*: Starting with 2.2, publishers are required to assign one of three machine-readable rights declarations to their data otherwise they will not be able to register their dataset with GBIF or make it globally discoverable through GBIF.org. If publishers cannot agree to publish their data under a CC0 1.0, CC-BY 4.0 or CC-BY-NC 4.0 declaration, it is recommend to continue to use the previous version of the IPT for now. 

An upgrade can be performed in 3 steps:

  # Replace the previous .war file with the latest edition
  # Backup the existing data directory
  # Reuse the existing data directory during setup

===B. Post-upgrade instructions===

*Upgrading from 2.1*, once the upgrade is complete, resource managers should: 
  # Republish 
  # Proxy settings

*Upgrading from 2.0.5*, once the upgrade is complete, resource managers should: 
  # Republish all occurrence and checklist resources (Windows hosted IPTs only). A [https://code.google.com/p/gbif-providertoolkit/issues/detail?id=1015 bug] in 2.0.5 caused names of files inside the Darwin Core Archive to be prefixed by a backward slash, e.g. "\meta.xml".
  # Check the geographic coverage is correct for each resource (if applicable). A bug in all earlier versions of the IPT caused bounding boxes to reset to global coverage following server restart on some locales. This was due to a [https://code.google.com/p/gbif-providertoolkit/issues/detail?id=1043 bug] interpreting decimal coordinates, and was been fixed already in 2.1

===C. New Features / Other===

  * IPT 2.2 now supports assigning DOIs to resources. To enable this feature, the IPT administrator must configure the IPT with a DataCite or EZID account. Please see these [IPT2ManualNotes#Configure_Organisations instructions] for help. To understand how the IPT assigns DOIs to datasets, refer to the [IPT2DOIWorkflow IPT's DOI workflows] page in the IPT wiki.
  * IPT 2.2 supports automatic generation of the resource citation. Please see these [IPT2ManualNotes#Citations instructions] for help.
  * IPT 2.2 performs basisOfRecord validation on all occurrence records. The implication is that each Occurrence core mapping must map the basisOfRecord term, and each basisOfRecord value must match the Darwin Core Type vocabulary.
  * A new [IPT2ApplyingLicense guide] on how to apply a license to a dataset has been added to the IPT wiki.

==Dependency Notes==

This new version has been tested and designed to work on Tomcat 6.0 or 7.0. Since 2.1 the IPT no longer supports Java 5, and is designed to run on Java 6 or later. 

==Viewing the IPT change log==

This version addressed a total of 85 issues: 38 Defects, 11 Enhancements, 18 Won't fix, 6 Duplicates, 1 Other, and 11 that were considered as Invalid. 
These are detailed in the [https://code.google.com/p/gbif-providertoolkit/issues/list?can=1&q=milestone=Release2.1&sort=status&colspec=ID%20Type%20Status%20Priority%20Milestone%20Owner%20Summary issue tracking system]
  
==When all else fails==

See the [FAQ], which continues to be updated with good questions.