=The GBIF Integrated Publishing Toolkit User Manual, version 2.0=
=Table of Contents=
<wiki:toc max_depth="4" />
----
=Background Information=
The GBIF Integrated Publishing Toolkit (IPT) is an freely available open source web application that makes it relatively easy to share three types of biodiversity-related information: primary taxon occurrence data, taxon checklists, and general metadata about data sources. An IPT instance as well as the data and metadata registered through the IPT are connected to the GBIF Biodiversity Resource Discovery System (GBRDS - also known as the GBIF Registry), are indexed for consultation via the GBIF portal, and are made accessible for public use.

Several factors have provided motivation for the development of the IPT:
  * limitations of previous applications and protocols (DiGIR, TAPIR, ABCD) to easily publish and transfer large data sets;
  * the need to decentralise and speed up the process of indexing biodiversity occurrence data sets;
  * the need to offer additional benefits and services to the data publishers to encourage data publication;
  * the lack of appropriate tools to publish certain types of biodiversity data, such as names checklists and data set metadata.
----
=Getting Started Guide=
This Getting Started Guide is meant for those wishing to install and run an IPT instance for the first time. If you would like to see a functional installation of the IPT in action, you may use the public test instance of the latest general release version at http://ipt.gbif.org/. If you do so, refer to Quick Reference Guide for details on how to use the screens you will see. Developers who wish to work with the latest revision of the source code should consult the "Developers" section of the GBIF IPT Google Code site wiki (http://code.google.com/p/gbif-providertoolkit/wiki/HowToContribute).
==Requirements==
===Internet Connectivity===
The IPT is designed under the assumption that the server on which it is run has consistent Internet connectivity. Though many functions of the IPT work even when offline, some aspects of the IPT (GBIF registration, extension installation, controlled vocabularies, and external databases for source data), require communication with external Internet resources. From the perspective of IPT administration and management, the speed of the Internet connection affects only such communications. Access to the IPT web application and its services from beyond a local intranet also requires consistent connectivity, and slow connectivity may have an adverse affect on these aspects, especially when harvesting large data sets.
===Stable URL===
Though it can be used simply as a tool to generate Darwin Core Archives, the IPT is meant to be a discoverable and accessible Internet-based application and service. To support this functionality, the server on which the IPT is installed must be able to support access to the application and services through a stable URL.
===Memory===
The server hosting the IPT installation must make at least 256 MB memory available to the application.
===Disk space===
The space required by the IPT application is less then 20MB. The contents of the IPT data directory after installation require less than 1MB of disk storage, writable by the IPT. However, the content of the data directory will grow as resources are created, and will require space roughly equal to the size of the files or tables containing the imported data sets. Normal usage of the IPT appends information to the log files, which will grow over time, but which generally require minimal disk space.
===Java===
The server hosting the IPT must have a version no less than Java 5 installed and functional prior to the installation of the IPT.
===Servlet container===
The IPT application comes packaged with Jetty and therefore requires no further servlet container. Nevertheless, the IPT can be deployed in another servlet container (e.g., Tomcat) that is already in use. Information about how to use various servlet containers with the IPT can be found at http://code.google.com/p/gbif-providertoolkit/wiki/IPTServerPreparation.
==Install the IPT==
===Prepare the server===
Before installing the IPT, be sure that the intended hosting server meets the minimum specifications described in the sections under "Requirements", above. 
===Download the IPT===
The latest release of the IPT software is available for download as a file named ipt.war from http://code.google.com/p/gbif-providertoolkit/downloads/list. Download this file to the server on which the IPT will run. Developers or those wishing to use the latest revision of the source code should consult the "Developers" section of the GBIF IPT Google Code site wiki at http://code.google.com/p/gbif-providertoolkit/wiki/HowToContribute.
===Deploy the IPT to the servlet container===
Follow the normal process for deploying a web application to a servlet container. A wiki page with further information about specific installations can be found at http://code.google.com/p/gbif-providertoolkit/wiki/IPTServerPreparation.
===Run the IPT application===
Successful deployment of the IPT to the servlet container will make the IPT accessible through a web browser at a URL determined by the servlet's base URL followed by /ipt (e.g., http://localhost:8080/ipt). If the installation was successful, the initial IPT setup page will appear in a web browser using the IPT's URL.
==Set up the IPT for the first time==
===IPT setup===
The first time the IPT is run, you will be presented with a few simple steps to prepare the IPT for use. The IPT setup page (see screen image, below) is the first of two setup pages and requires a location where the data for the IPT installation can be stored. The format of the location entered on the page must conform with the standard for an absolute path to a directory on the operating system where the IPT is installed; relative paths are not supported. For example, use a path such as "c:\datadir" for Windows environments or "/usr/datadir" for Unix and MacOSX environments. The IPT must have write permission to the selected location. If it does, the path can be entered in the text box provided and then click on the button labeled "Save" - the directory will be created if it doesn't already exist. It is permissible to create the data directory first with the appropriate write permissions, then enter the absolute path to the directory in the text box and click on the "Save" button. Note: If you have a data directory from a previously running IPT of the same version and want to use that previous configuration (including users and resources), you can enter the absolute path of that data directory in this first step of the IPT setup (see also the "Starting Over" section of this Getting Started Guide). Clicking on "Save" in this case will bypass the page titled IPT setup II and present the IPT Administration page (see the screen image in the "Administration Menu" section of the Quick Reference Guide).

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTSetup1.png]
===IPT setup II===
If the initial data directory assignment step was successful, the IPT will present a second setup page (see screen image, below) on which the information about the default administrator of the IPT must be entered, along with the information about how the IPT will be accessed from the Internet. The default administrator will have a distinct login and the authority to make changes to all aspects of the IPT installation. The default administrator will be able to make additional user accounts, including other administrators having the same authority to make changes. Though administrators can be added and removed, the IPT must always have at least one. Following are explanations of the fields encountered on the second setup page:
  * *Email* - the full, active email address of the default administrator of the IPT installation. 
  * *First name* - the first name of the default administrator. 
  * *Last name* - the last name of the default administrator.
  * *Password* - a password for the default administrator. The password should be made secure and safe from loss, as it is not recoverable from the IPT application.
  * *Verify password* - an exact copy of the password as entered in the Password text box to confirm that it was entered as intended.
  * *Production use* - check this box if the IPT installation will be fully functional for real-world use rather than for evaluation or testing. There is currently no transition from a test installation to a production one, so when you are ready to go into production mode after testing, the IPT will have to be set up anew (see the "Starting Over" section in this Getting Started Guide).
  * *Base URL for this IPT* - the URL that points to the root of this IPT installation. The URL is detected automatically if possible, but should be changed in production systems to be accessible via the Internet in order for the IPT to function fully. Configuring the IPT Base URL to localhost, for example, will not allow the instance of the IPT to be registered with GBIF, will not allow the IPT to be associated with an organisation, and will not allow resources to be publicly accessible.
  * *Proxy URL* - if the server on which the IPT is installed is routed through a proxy server or virtual host, enter the host address and port number through which the IPT will be accessible via the Internet as a URL in the format host:port, for example, proxy.gbif.org:8080.

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTSetup2.png]

When all of the information on the page is complete and correct, click on the button labeled "Save" to complete the IPT setup process. If a problem occurs, an error message will appear at the top of the page with recommendations about how to resolve the issue. If the setup is successful, a page confirming the success of the setup will appear (see screen image, below). 

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTSetupFinished.png]

Click on the button labeled "Continue" to open the IPT Administration page (see the screen image, below), from which further configuration of the IPT can be accomplished. Please review the explanations of all of the Administration functions before continuing. Details about the options presented on this page are given in the "Administration Menu" section of the Quick Reference Guide. Before adding data resources to the IPT, the administrator must, at a minimum, verify the IPT settings, set the GBIF registration options, and associate the IPT with an organisation. The Organisations button is disabled by default until the GBIF registration options have been set.

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTAdminBeforeRegistration.png]

Once you have completed the steps in this Getting Started Guide, your IPT is ready to add resources (data sets and metadata).You may want to complete one of more of the tutorials to understand how common IPT tasks are accomplished. For detailed explanations of any further aspects of the IPT, consult the Quick Reference Guide of this user manual.
==Starting Over==
It is relatively easy to re-initiate the IPT and begin again at the first setup step. To do so, every user who is logged in to the IPT should first log out. Then remove the file called datadir.location from the folder where it was created by the IPT (normally WEB-INF within the IPT base installation directory - not within the IPT data directory configured in the first setup step). Then the person having the default administrator information and knowledge of the IPT installation should reload the IPT base URL in a web browser. This will open the the initial IPT setup page again (see the "IPT setup" section in this Getting Started Guide). At this point, if the user enters the same absolute path to the data directory as before, the previous configuration will be completely restored, assuming that there has been no incompatible upgrade in IPT versions between the time when the data directory was last used and when it is used to reinitiate the IPT. If the same data directory location is desired, but without the previous IPT configuration, then the contents of that data directory should be moved to a different location or removed entirely before clicking on "Save" in the initial IPT setup page. If an entirely new data directory is used, then the setup will proceed exactly as described in the "IPT setup" section of this Getting Started Guide.
----
=Quick Reference Guide=
==Introduction==
This Quick Reference Guide explains in detail the capabilities of an IPT instance that has been installed, run for the first time, and tested to be functional as explained in the Getting Started Guide. The details of this guide are presented in four sections corresponding to the four "menus" available in the IPT user interface. Some tabs are only visible when a user having the appropriate rights to see them is logged in.
==Common features==
===User interface controls===
Most user interface controls have both enabled and disabled modes. If the control is enabled, it will either commit an action when clicked (a button, for example), or it will allow changes to be made to the value bound to the control (a text, check, or select box, for example). In the latter case the changes will be saved, if possible, when the form on why they appear is saved, which is general accomplished on a given page by clicking on a button labeled "Save". Disabled controls show the value of the associated information, but do not allow that information to be saved under the conditions in effect at the time they appear. The purpose for most user interface controls is indicated by an associated label that appears above and/or to the left of the control. Sometimes supplemental information is also accessible from an associated information icon.

*Menus* - in the IPT, a menu bar appears below the GBIF logo on nearly every page. The menu bar is populated with menus that guide users to fundamental topics. Menus appear only for the pages that are authorized to be seen based on the current user's role. Exactly one menu is active at a time, and the active menu is colored brightly, while inactive menus are grey. Click on a menu to open and activate the page for that topic.

Menu bar before login or after a user having no special role logs in, with the Home menu active:

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTMenuBarHomeAbout.png]

Menu after a user having a Manager role logs in, with the Manage Resources menu active:

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTMenuBarHomeManageAbout.png]

Menu after a user having the Admin role logs in, with the Administration menu active:

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTMenuBarHomeManageAdminAbout.png]

*Text boxes* - allow textual information to be viewed or entered. 

Example text box and label for an email address:
[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/Control-TextBoxExample.png]

*Check boxes* - allow a value to viewed or set to true (when checked) or false (when unchecked).

Example check box and label to indicate that the IPT can host resources:
[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/Control-CheckboxExample.png]<br>

*Select boxes* - allows a value to be viewed or selected from a list of predefined values. A select box may contain explanatory text about the selection in place of a selectable value. In this case the selection will begin with "Select " (e.g., "Select a country, territory, or island"). Click on the select box to open it and see the list of possible values. Click on one of the choices to set that value.

Example select box and label for the user role, with Admin selected:
[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/Control-SelectBoxExample.png]

*Links* - open a page other than the one on which the link occurs. Links may open the new page in the same browser window (or tab) or in a separate window (or tab).

Example link to the account information page for the logged in user:
[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/Control-LinkExample.png]

*Information icon* - shows a message explaining the intention of the control next to which it appears. Click on the icon next to any field to see a help message about that control. Click on it again to make the message disappear. Some information messages include a link, which, if selected, will populate the control with the appropriate value for the selection.

Example information icon for character encoding after the UTF-8 link was selected:
[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/Information-CharacterEncoding.png]
===Controls that appear on all pages===
This section describes several features that are accessible in the header and footer of most of the pages of the IPT.
====Header====
Header, not logged in, English language chosen for the user interface: 
[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTHeaderNotLoggedIn.png]

Header, logged in, English language chosen for the user interface: 
[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTHeaderLoggedIn.png]

*Login* - A user who has already been created in this IPT instance can log in by entering the email address and password in the upper right-hand corner of the page, and then click on the "Login" link. New users can be created only by an existing user having the Admin role. The process for creating new users is explained under the "Configure User accounts" heading in the "Administration Menu" section. The process of initializing the IPT creates the first user having the Admin role.<br>
*Logout* - If someone is logged in to the IPT, the email address of the person who is logged in is given in the upper right-hand corner of the of the page along with a "Logout" link.<br>
*Account* - To see this link and the page to which it leads, you must be logged in the the IPT. The page shows the details of the account information for the person who is logged in to the IPT and allows them to be changed. The details of the fields found on this page can be found under the "Configure User accounts" heading in the "Administration Menu" section.<br>
*Language selection flag* - In the upper right-hand corner of the page is a flag depicting the language in which the IPT is currently being presented. The default language for the IPT is English. The language of the user interface can be changed by clicking on the flag and selecting a flag for the desired language, if available. GBIF actively seeks translations for the IPT into additional languages. For more information, consult the "How To Contribute" page of the GBIF IPT Google Code site wiki (http://code.google.com/p/gbif-providertoolkit/wiki/HowToContribute).<br>
====Footer====
[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTFooter.png]

*Version* - At the left of the footer at bottom of the page is the version of the IPT that is currently running. The version information can be used to determine which features are included in the IPT and what bugs are known to exist. This is the version information that is requested when making bug reports.<br>
*About the IPT Project* - This link (http://code.google.com/p/gbif-providertoolkit/) leads to the Google Code site for the IPT, where further information about the IPT can be found, including the latest version of this manual, open issues, source code, and further related documentation.<br>
*Report a bug* - This link (http://code.google.com/p/gbif-providertoolkit/issues/list/) opens the list of known open issues for the IPT. If you think you have encountered a bug, look at the list of known issues first to see if the bug has already been reported. If it has, you may add new information as a comment to the existing bug report that might help engineers to diagnose the problem and get it fixed. If no bug similar to the one you have encountered in the IPT appears on the list, you can create a new bug report by clicking on the "New issues" link. When entering a bug report, it is useful to include the version of the IPT you are using (see the explanation for "Version", above).<br>
*Request new feature* - This link (http://code.google.com/p/gbif-providertoolkit/issues/entry?template=Feature%20request) opens a specific form in the IPT issue tracker that can be filled in to request a capability that the IPT does not currently have.<br>
*Copyright* - The copyright for the IPT software is held by the Global Biodiversity Information Facility. Details of the copyright and licensing can be seen in the "About" section of this user manual.
==Home Menu (visible to all users)==
This page allows users to view a list of public resources, if any, and to look at the detailed metadata of any resource on the list. 
===Public Resources Table===
If there are any public resources, they will appear in a table having the following columns:

*Name* - the title of the resource as given in the Title entry of the resource metadata. The Name appears as a link, which will open a Metadata Overview page (see below) for the selected resource.<br>
*Organisation* - the organisation under which the resource has been registered, if any. Review the information under the "Organisations" heading in the "Administration Menu" section for more information about registering organisations and registering a resource under an organisation.<br>
*Type* - the category of data (specimen, checklist, etc.) in the data set represented by the resource. <br>
*Records* - the number of rows of data in the core data file that were successfully loaded into the IPT for the resource.<br>
*Last modified* - either the date the resource was created or the date on which the data or metadata were last modified, whichever is more recent.
===RSS feed===
The IPT supports syndication via RSS for those who wish to monitor resource configuration changes. The RSS feed is accessible by clicking on the link provided below the list of public hosted resources. The RSS feed can be read in any standard RSS client.
===Metadata Overview page===
Clicking on the Name link in the list of resources on the Home page shows a new page having all of the metadata about the selected resource. This is the one page where you can easily review all of the metadata for a resource. A user having the Admin role or one of the Manager roles can edit the metadata. Refer to the information under the "Edit an existing resource" heading in the "Manage Resources Menu" section.
==Manage Resources Menu (visible to users with an Admin or Manager role)==
This page allows users having the appropriate role (managers and administrators) to make changes to existing resources listed in the table on the page or to create new resources. 
===Manage Resources Table===
When the Manage Resources page is first opened, it shows a table of existing resources that the current user has permission to change, including those created by this user and those which this user has been invited to manage by others. Refer to the information under the "Public Resources Table" heading in the "Home Menu" section for detailed explanations of the Name, Type, Records, and Last Modified columns. In addition, the Manage Resources Table includes the following column of basic information about the resources:

*Visible To* - a summary description of who has access to view the resource. If the resource is public, all users will be able to see it on the Public Resources table on the Home page, and this column will contain the value "Everyone". If the resource is private, it will not be visible to anyone on the Public Resources table, and it will be visible in the Manage Resources table only to the user who created it, to those who have been invited to manage it, and to users having the Admin role. In this case, the column will have a value of the form "You and n others", where n is the nubbier of other users who have been invited to manage the resource. Details about inviting others to manage a resource are given in the "Resource Managers" section under the "Resource Overview" heading in the "Manage Resources" section.
===Create New Resource===
Below the Manage Resource table is a form that can be used to create a new resource. First, a unique "shortname" must be provided for the resource. This short name will be used to uniquely identify the resource within the IPT instance, and will be used within the URL to access the resource via the Internet. The short name must be at least three characters in length, may contain alphanumeric characters, but must not contain white space or punctuation other than hyphens (-) or underscores (_) (e.g., "firstresource" or "first_resource", but not "first resource" or firstresource!"). 

There are several ways to create a new resource in the IPT as described in the following sections.
====Upload a Darwin Core Archive====
The IPT is able to import and export valid Darwin Core Archive files. Information about Darwin Core Archives can be found on the Darwin Core web site (http://rs.tdwg.org/dwc/terms/guides/text/), with further information about the IPT's use of them on the GBIF IPT Google Code site wiki (http://code.google.com/p/gbif-providertoolkit/wiki/DarwinCore). To import a Darwin Core Archive, click on the button labeled "Choose File", then navigate to and select the intended archive file. After selecting the file, its name will appear next to the "Choose File" button. Click on the button labeled "Create". If there is a problem importing the selected file, an error message will alert the user. If the import is successful, a Resource Overview page will appear with an informational message at the top describing the results of the import process.

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTManageResourceUploadDwCASuccess.png]
====Integrate an existing resource configuration folder====
It is possible to integrate a resource from a configuration folder created under a compatible version of the IPT. To do so requires that the IPT be restarted during the process. First enter a new resource shortname as described in the introduction under the "Create New Resource" heading in the "Manage Resource Menu" section and then click on the button labeled "Create". This will open the Resource Overview page and create a folder having the same name as the shortname within the resources folder of the IPT data directory. Shut down the IPT using the method appropriate to the servlet container in which it is installed. See the IPT server preparation page (http://code.google.com/p/gbif-providertoolkit/wiki/IPTServerPreparation) for more information on restarting the IPT. With the IPT shut down, copy the contents of the resource folder you wish to integrate into the folder that was just created for the new resource, making sure to replace the newer resource.xml file with the original from the resource being integrated. After the files have been copied, restart the IPT. The new resource will be available in the IPT with the same settings that it had in the previous IPT installation.
====Create an entirely new resource====
With this option the resource configuration will have to be created in its entirety through the IPT forms, including loading a source data file or database and mapping the fields therein to terms in the appropriate extension or extensions. Begin by entering a new resource shortname as described in the introduction under the "Create New Resource" heading above and then click on the button labeled "Create". This will open the Resource Overview page. Proceed by completing the various sections of the page based on the descriptions under the "Resource Overview" heading of the "Manage Resources Menu" section.
===Edit an existing resource===
The table of existing resources shows only those resources that can be edited by the current user. To edit a resource, click on the link  for the name of the resource in the Name column of the table of resources. The link will open the Resource Overview page for the selected resource. Refer to the descriptions under the "Resource Overview" heading of the "Manage Resources Menu" section for details on how to edit various aspects of the resource.
===Resource Overview===
This page allows users having managerial permission to make changes to various aspects of a resource's configuration. The name of the resource is given at the top of the page under the menu bar. If the resource has not been given a title, the resource shortname will appear at the top of the page and will act as a title instead. Below the resource name is a table showing categories of the resource configuration on the left with corresponding summary information on the right. Each of these categories is configured separately as explained in detail in the following sections.
====Metadata====
The Metadata area of the Resource Overview page allows a user to see basic information about the resource metadata in the panel to the right, and to view and edit these and other metadata in detail by clicking on the button labeled "Edit" in the panel to the left. Every resource requires a minimal set of descriptive metadata. If any of the required metadata are missing, the Resource Overview page will open with a warning message in the Metadata area of the page.

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTManageResourceMetadataMissing.png]

Clicking on the "Edit" button opens the Basic Metadata page, the first of a series of metadata pages. Each page will appear in sequence as the button labeled "Save" is clicked upon finishing entering data on any given metadata page. Saving the metadata on the last of the metadata pages will transition back to the Basic Metadata page. In a column at the right of each metadata page is a list of links to all of the metadata pages for easy reference and navigation. Click on any of the links to open the metadata page for that topic. 

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTManageResourcesMetadataPagesList.png]

Following is a list of the metadata pages and their contents: 
  * *Basic Metadata* - This is the only metadata page that has fields that are required to be entered by the IPT. The title and description of the resource are required, as are one of Last Name, Position, or Organisation for the Resource Contact.
    * *Title* (required) - 
    * *Description* (required) - 
    * *Metadata Language* - 
    * *Resource Language* -
    * *Subtype* - 
    * *Resource Contact* - 
      * *First Name* -
      * *Last Name* (required if Position and Organisation are empty) -
      * *Position* (required if Last Name and Organisation are empty) -
      * *Organisation* (required if Last Name and Position are empty) -
      * *Address* -
      * *City* -
      * *State/Province* -
      * *Country* -
      * *Postal Code* -
      * *Phone* -
      * *Email* -
      * *Home Page* -
    * *Resource Creator* - copy details from contact
      * *First Name* -
      * *Last Name* (required if Position and Organisation are empty) -
      * *Position* (required if Last Name and Organisation are empty) -
      * *Organisation* (required if Last Name and Position are empty) -
      * *Address* -
      * *City* -
      * *State/Province* -
      * *Country* -
      * *Postal Code* -
      * *Phone* -
      * *Email* -
      * *Home Page* -
    * *Metadata Provider* - copy details from contact
      * *First Name* -
      * *Last Name* (required if Position and Organisation are empty) -
      * *Position* (required if Last Name and Organisation are empty) -
      * *Organisation* (required if Last Name and Position are empty) -
      * *Address* -
      * *City* -
      * *State/Province* -
      * *Country* -
      * *Postal Code* -
      * *Phone* -
      * *Email* -
      * *Home Page* -

  * *Geographic Coverage* - This metadata page contains information about the geographic area covered by the data in the resource.
    * *Coverage Map* - 
    * *Set global coverage?* - 
    * *Latitude/Longitude* - 
    * *Description* - 

  * *Taxonomic Coverages* - This metadata page contains information about one of more groups of taxa covered by the data in the resource.
    * *Description* - 
    * *Add several taxa/Taxon List* - 
    * *Add new taxon/Scientific Name, Common Name, Rank* - multiple possible taxa 

  * *Temporal Coverages* - This metadata page contains information about one of more dates, date ranges, or named periods of time covered by the data in the resource.
    * *Temporal Coverage Type* - 
      * *Start Date* - 
      * *End Date* - 
      * *Living Time Period* - 
      * *Formation Period* - 

  * *Other Keywords/Keyword Sets* - This metadata page contains one or more sets of keywords about the resource and the thesauri that govern them.
    * *Thesaurus* - 
    * *Keyword List* - 

  * *Associated Parties* - This metadata pages contains information about one or more people or organisations associated with the data set.
    * *First Name* -
    * *Last Name* (required if Position and Organisation are empty) -
    * *Position* (required if Last Name and Organisation are empty) -
    * *Organisation* (required if Last Name and Position are empty) -
    * *Address* -
    * *City* -
    * *State/Province* -
    * *Country* -
    * *Postal Code* -
    * *Phone* -
    * *Email* -
    * *Home Page* -
    * *Role* -

  * *Project Data* - This metadata page contains information about the project that resulted in the data set.
    * *Title* -
    * *Personnel First Name* -
    * *Personnel Last Name* -
    * *Personnel Role* -
    * *Funding* -
    * *Study Area Description* -
    * *Design Description* -

  * *Sampling Methods* - This metadata page contains information about a series of methods used in the acquisition of the data set.
    * *Study Extent* -
    * *Sampling Description* -
    * *Quality Control* -
    * *Add new method step* - 
      * *Step Description* - 

  * *Citations* - This metadata page contains information about how to cite the resource as well as a bibliography of zero or more additional citations related to the data set.
    * *Citation Identifier* -
    * *Resource Citation* -
    * *Bibliography* -
      * *Citation Identifier* -
      * *Citation* -

  * *Collection Data* - This metadata page contains information about the collection associated with the resource as well as summary information about zero or more types and counts of objects in the collection.
    * *Collection Name* -
    * *Collection Identifier* -
    * *Parent Collection Identifier* -
    * *Specimen Preservation Method* -
    * *Curatorial Units* - multiple possible units
      * *Method Type* -
        * *Count Range* -
        * *Count with uncertainty* -
        * *Unit Type* -

  * *External Links* - This metadata page contains links to the home page for the resource as well as zero or more additional links to the resource in alternate forms (database files, spreadsheets, linked data, etc.).
    * *Resource Homepage* -
    * *External link* -
      * *Name* -
      * *Character Set* -
      * *Download URL* -
      * *Data Format* -
      * *Data Format Version* -

  * *Additional Metadata* - This metadata page contains information about other aspects of the resource not captured on one of the other metadata pages, including zero or more additional identifiers for the resource.
    * *Hierarchy Level* -
    * *Date Published* -
    * *Purpose* -
    * *IP Rights* -
    * *Additional Information* -
    * *Additional Identifiers* - multiple possible identifiers
      * *Additional Identifier* -
====Source Data====
The Source Data area of the Resource Overview page allows a user to import primary data from files or databases into the IPT. If a resource has no source data it is considered a metadata-only resource, with information about a data set or collection, but without any primary data. Following are separate explanations for the preliminary step of choosing the source data:

*File as data source*<br>
The IPT can import uncompressed delimited text files (csv, tab, and files using any other delimiter) or equivalent files compressed with zip or gzip. Click on the button labeled "Choose File" to navigate to and select the file to import. After selecting the file, its name will appear to the right of the "Choose File" button. 

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTManageResourceSourceDataFileSelected.png]

Click on the button labeled "Add" to open the Source Data File detail page. This page shows the name of the resource along with a summary of the file characteristics (readability, number of columns detected, absolute path to the file, the file size, the number of rows detected, and the date the file was last loaded into the IPT).

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTManageResourceSourceDataFileSummary.png]

The Source Data File detail page allows the user to view and edit the parameters that describe the content of the selected file, and to use these settings to analyze and preview the file. Click on the button labeled "Analyze" to regenerate the file summary based on the following parameters on the page; click on the "Preview" button to see an interpretation of the first rows of the file based on these settings:
 * *Source Name* - the name of the file selected, without the file extension.
 * *Number of Header Rows* - 0 if the file does not contain a row of column names, 1 if the file does contain a header row.
 * *Field Delimiter* - the character or characters that signify a break between columns of data.
 * *Character Encoding* - the system that defines byte-wise definitions of the characters in the data (e.g., ISO 8859-5 refers to the Cyrillic alphabet).
 * *Field Quotes* - a single character (or none) that is used to enclose the contents of a column in the data (e.g., ' or ").
 * *Date Format* - a code describing the format of fields having a date data type (e.g., YYYY-MM-DD for four-digit year, two-digit month, and two-digit day separated by dashes).

After the parameters for the data source have been set so that the file is interpreted correctly, click on the button labeled "Save" to store this configuration. If the save is successful, the Resource Overview page will appear, with summary information about the file in the right-hand column of the Source Data area. A button labeled "Edit" will also appear with the source data file summary information in the right-hand column, allowing the user to reopen the Source Data File detail page.

If the source data are contained in multiple text files, the process described in this section can be repeated for each of the files to import.

*Database as data source*<br>
The IPT can use database connections to import data from tables or views. To configure a database as a data source, click on the button labeled "Add" in the left-hand column of the Source Data area of the Resource Overview page. This will open a Source Database detail page. This page shows the name of the resource along with a summary of the database characteristics (readability, number of columns detected) and allows the user to view and edit the parameters that describe how to access the data from the database, and to use these settings to analyze and preview the data. Click on the button labeled "Analyze" to regenerate the data summary based on the following parameters on the page, click on the "Preview" button to see an interpretation of the data based on these settings:
 * *Source Name* - the name of the data source. Unlike a file data source, this can be edited and given any name by the user.
 * *Database System* - the relational database management system to which the IPT must connect to retrieve the data.
 * *Host* - The database server address, optionally including the non default port number (e.g., localhost or mysql.gbif.org:1336). For ODBC connections, this is not needed.
 * *Database* - The name of the database in the database management system, or the DSN for an ODBC connection.
 * *Database User* - the name of the database user to use when connecting to the database.
 * *Database Password* - the password for the database user to connect to the database.
 * *SQL Statement* - The Structured Query Language statement used to read data from the source database. The statement will be sent as-is to the configured database, so you can use any native feature of the database such as functions, group bys, limits, or unions, if supported. Example:{{{`SELECT * from specimen join taxon on taxon_fk=taxon.id`}}} While testing a large data source it is a good idea to include the appropriate language to the SELECT statement to limit the number of rows returned by the query. When the statement has been fully tested with the Darwin Core Mappings (see the following section of the Quick Reference Guide), change the SQL Statement to return the full intended data set.
 * *Character Encoding* - the system that defines byte-wise definitions of the characters in the data (e.g., Latin1, UTF-8 ).
 * *Date Format* - a code describing the format of fields having a date data type (e.g., YYYY-MM-DD for four-digit year, two-digit month, and two-digit day separated by dashes).

After the parameters for the data source have been set so that the data are accessed correctly, click on the button labeled "Save" to store this configuration. If the save is successful, the Resource Overview page will appear, with summary information about the data in the right-hand column of the Source Data area. A button labeled "Edit" will also appear with the source data summary information, allowing the user to reopen the Source Database detail page.
====Darwin Core Mappings====
The Darwin Core Mappings area of the Resource Overview page allows a user to map the fields in the incoming data to fields in installed extensions. This option is not available until at least one data source has been successfully added and at least one extension has been installed. Once these conditions have been met, the left-hand column of the Darwin Core Mappings area will contain a select box with a list of extensions that have been installed. Select the appropriate extension that has fields matching the ones to map in the data source. If the appropriate extension does not appear in the select box, it will have to be installed first. Refer to the information under the "Configure Extensions" heading in the "Administration Menu" section for an explanation of how to install extensions. After the desired extension is selected, click on the button labeled "Add" to open the Data Source selection page. This page gives an explanation of the type of data the extension is meant to support, and shows a select box containing a list of all of the configured data sources. Select the data source to map, and then click on the button labeled "Save". This will open the Data Mapping detail page and display a status message showing how many fields from the data source were automatically mapped to the fields in the extensions. Fields are automatically mapped if the field names, converted to all lower case, match each other.

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTManageResourceDwCMappingDetailAutomapped.png]

The Data Mapping page allows a user to specify exactly how the data accessible through this IPT resource are to be configured based on the selected extension. At the top of the page is the name of the extension to which the source data are being mapped, along with a description of the purpose of the extension. Below the extension description are two columns of information, potentially with labels separating sets of related fields in the extension and links to jump to specific labeled sets of fields on the page. The left-hand column contains the names of fields in the extension as well as a special row labeled Filter.

The right-hand column contains information icons and controls (select boxes, text boxes) to set the value the extension field is supposed to contain. Under the select and text boxes there may be explanatory text about the extension field. In addition, if a field name has been chosen in the source data field select box, text labeled "Source Sample" and a button labeled "Translate" will appear below it. Following are descriptions of the controls that may appear in the right-hand column of the data mapping table:

  * *Data source field select box* - The left-hand select box is either blank or contains the name of a field from the data source. The IPT fills as many selections as it can from extension field names that match a data source field name. All of the remaining source field select boxes are left blank, signifying that the extension field has not been mapped to a source data field. If a field name is selected, the resource will use the value from that field in the source data as the value for the extension field in the Darwin Core Archive created by the IPT when the resource is published.
  * *Constant value text box* - To set the published value of any non-identifier extension field to a single value for every record in the data source, make sure that no value is selected in the source field select box and enter the desired constant for the extension field in the text box to the right of the source field select box.
  * *Constant controlled value select box* - If the right-hand column for the extension field contains a second select box instead of a text box, this means that the field is governed by a controlled vocabulary. In this case, choose a value from the vocabulary list to use as a constant value in place of typing a constant into a text box.
  * *Vocabulary detail button* - Extension fields that are governed by a controlled vocabulary will have a button between the information icon and the source field selection box. Click on this button to open a Vocabulary Detail page in a new browser window (or tab) on which is a list of accepted values for the extension field with explanations and alternative synonyms in various languages.
  * *Source Sample* - This area shows actual values from the first few records of the selected field of the source data, separated by spaces and the character '|'. This helps the user understand if the contents of the source data field are appropriate for the extension field to which it has been mapped.
  * * "Translate* - Click on this button to open a Value Translation page on which distinct values in the selected field of the source data can be translated to new values in the archive generated by the IPT for this data resource. After the translations have been entered and saved, the Data Mapping page will appear again, and will display text as a link in place of the "Translate" button to show the number of values for which there are translations having values different from the original values. Click on this link to reopen the Value Translation page for this extension field. 
  * *Value Translation page* - When this page opens for the first time it shows a message at the top giving the number of distinct values of the selected field in the source data, up to 1000 values. The page shows the name and description of the extension field for which translations are being made. If the field is governed by a controlled vocabulary, information about that vocabulary and a button  to open a Vocabulary Detail page (see Vocabulary Detail button explanation, above) will appear under the field description. Below the field description is a table showing the distinct values of the field found in the source data under the column heading "Source Value" with text boxes under the column heading "Translated Value". Enter the value to which the Source Value should be translated in the text box. Bounding the table above and below by the following set of buttons:
    * *Save* - click on this button to save all of the changes that have been made on this page and return to the Data Mapping page.
    * *Delete* - click on this button to remove all translations for this field and return to the Data Mapping page.
    * *Reload* - click on this button to search the source data again for distinct values. Existing translations are retained, and any new distinct values from the source data appear on the list without a translation. 
    * *Automap* - this button appears only if the field is governed by a controlled vocabulary. Click on this button to fill the Translated Values automatically with standard values based on known synonyms. Values in the source data for which there are no known synonyms will remain blank.
    * *Cancel* - click on this button to close the Value Translation page without saving any of the changes that have been made.
  * *Filter* - The filter allows the user to include only records that match a criterion set for one of the source data fields. To use the filter, choose the field upon which the criterion will be based using the left select box. The text box at the right may contain a value against which to compare the value of the field in the source data. Do not enclose the value with any punctuation. The second select box allows the user to choose a comparison operator from among the following:
    * *IsNull* - this operator is true if the source data field is empty. In this case no value is needed in the text box at the right. If there is a value in the text box, it will be ignored.
    * *IsNotNull* - this operator is true if the source data field is not empty. In this case no value is needed in the text box at the right. If there is a value in the text box, it will be ignored.
    * *Equals* - this operator is true if the source data field is equal to the value in the text box at the right. Equality is evaluated based on string matching, thus, if the data source value for a record is 2.0 and the value in the text box is 2, the record will not be included in the filtered data set.
    * *NotEquals* - this operator is true if the source data field is not equal to the value in the text box at the right. Equality is evaluated based on string matching, thus, if the data source value for a record is 2.0 and the value in the text box is 2, the record will be included in the filtered data set.
  * *Required fields* - If there are any required properties that must be mapped for the extension, these have their names highlighted. Core extensions always have a required unique identifier field, which may be used with additional extensions having the same field to link records from the two extensions together. 

In addition to the explanatory information about the extension at the top of the page and the two columns described above, the Data Mapping page may have following links and buttons:
  * *Back to Resource Overview page* - clicking on this link will navigate to the Resource Overview page without saving any of the pending changes.
  * *Hide Unmapped Fields* - this link will remove from view on this page all fields that have not yet been mapped, leaving only those with completed mappings. To view again those fields that have not been mapped, click on the "Show all" link.
  * *Show all* - this link will make all fields visible, whether mapped already or not. This link appears only after the "Hide Unmapped Fields" link has been invoked.
  * *Save* - clicking on any of the potentially many buttons labeled "Save" will change the pending changes on the page.
  * *Delete* - clicking the this button will remove the entire mapping to a data source, not just the mapped fields, and return to the Resource Overview page. 
====Visibility====
This area of the Resource Overview page shows the status of how the resource may be viewed and discovered (private, public, registered). Each resource is created with the default private visibility.
  * *Private* - A private resource is visible only to those who created it, or those who have been granted permission to manage it within the IPT, or by a user having the Admin role. This is primarily meant to preserve the resource from public visibility until it has been completely and properly configured. When the resource is ready for public visibility, click on the button labeled "Public". A message will appear at the top of the page saying that the status has been changed to "Public".
  * *Public* - A public resource is visible to anyone using the IPT instance where the resource is installed (on the table of public resource on the IPT Home page). The resource is also accessible via the internet to anyone who knows its location and Shortname. However, the resource is not discoverable until it has been registered with the GBIF Registry. If the resource is public, a select box containing a list of organisations with which the resource may be associated appears in the Visibility area of the Resource Overview page. Two buttons also appear in this area. Clicking on the button labeled "Private" will remove the resource entirely from public visibility and return it to the private state. The button labeled "Register" will be enabled if 1) the required metadata for the resource are complete, 2) the resource has been published (see the explanation of the "Published Release" area of the Resource Overview page, below), and 3) the user has the role "Manager with registration rights" (see the explanation for Role under "Create a new user" under the "Configure User accounts" heading of the "Administration Menu" section). A user having the Admin role can grant the "Manager with registration rights" to any user. To register the resource and make it discoverable via the GBIF Registry, first make sure that the required metadata are entered (see the "Metadata" section under the "Resource Overview" heading of the "Manage Resources Menu" section), then choose the organisation with which the resource is associated from the select box. If the organisation does not appear in the list it may be added by a user having the Admin role (see the information under the "Configure Organisations" heading in the "Administration Menu" section). When the metadata are complete and the correct organisation is selected, publish the resource following the procedure described in the "Published Release" section under the "Resource Overview" heading of the "Manage Resources Menu" section. Finally, click on the button labeled "Register" to register the resource with the GBIF Registry. If the attempt to register is successful, a message will appear at the top of the page saying that the status has been changed to "Registered".
  * *Registered* - A resource that has been registered with the GBIF network is discoverable through that system and the data from the resource can be indexed by and accessed from the GBIF portal. If the resource has already been registered, a button labeled "Update Registration" will appear in the Visibility area of the Resource Overview page and will be enabled if the user has the role "Manager with registration rights". Click on this button to send new information about the resource to the GBIF Registry if any of the following have changed since the registry was last updated: title, description, primary contact name or email. A summary of information registered with GBIF will appear in the right-hand column when registration is complete. The visibility of a registered resource can not be changed to private. If a resource must be removed from the GBIF Registry, follow the procedure described in the "Delete a Resource" section under the "Resource Overview" heading in the "Manage Resources Menu" section.

====Published Release====
This area allows a user to publish a release (version) of the resource by simply clicking on the button labeled "Publish". This action does several things. First, the current metadata are written to the file eml.xml in the resource's directory within the IPT data directory. Then the same metadata are saved into an incremental version of the EML file named eml-n.xml, where n is the incremental version number reflecting the number of times the EML file has been published. Second, the current primary resource data as configured through mapping (see the "Darwin Core Mappings" section under the "Resource Overview" heading in the "Manage Resources Menu" section) are written to the Darwin Core Archive file named dwca.zip resource's directory within the IPT data directory. Third and finally, the information about the resource are updated in the GBIF Registry if the resource is registered. After a resource has been published, summary information about the published release will appear in the right-hand column of the Published Release area, including the serial integer version and date of the latest publication, a link to download the Darwin Core Archive, a link to download the EML file, and a link to view the metadata contained in the EML file in the form of a Metadata Overview page as described under the heading of the same name in the "Home Menu" section.

====Resource Managers====
Each resource has one or more explicitly assigned managers who are allowed to view, change, and remove the resource. The user who creates a resource automatically has these capabilities. Additional managers can be associated with a resource and given these same capabilities by selecting them by name from the select box in this area of the Resource Overview page, then clicking on the button labeled "Add". Any manager associated with a resource and having the role "Manager with registration rights" may also register the resource and update it in the GBIF registry. All users having the Admin role automatically have complete managerial roles as well for all resources in the IPT instance. The right-hand column of this area shows name and email address of the creator of the resource. If any managers have been added, their names and email addresses will be listed under the creator. Any added manager can have the managerial role for the resource removed by clicking on the button labeled "Delete" to the right of the email address in the manager listing.

====Delete a Resource====
Clicking on the button labeled "Delete" will remove the resource from the IPT and all of the related documents from the file system. If you intend to remove a resource that has been registered with GBIF, you should also inform the GBIF Help Desk (helpdesk@gbif.org) that you would like it to be unregistered. If you want to keep the resource information but remove the resource from the IPT, make a copy of the resource's folder to a safe location outside of the IPT directory structure. The name of the folder for the resource is the same as the resource shortname, and can be found under the folder named "resources" in the IPT data directory. A resource saved in this way can be re-integrated into the IPT, or integrated with a distinct IPT instance by following the procedure described in the "Integrate an existing resource configuration folder" section under the "Create New Resource" heading in the "Manage Resources Menu" section.

==Administration Menu (visible only to users having the Admin role)==
This section describes each of the functions that are accessible from the Administration menu. Clicking on the Administration menu opens a page (see screen image, below) from which each of these specific administrative tasks can be accessed by clicking on the appropriate button. Note that the button labeled "Organisations" will remain disabled by default until the GBIF registration options have been set.

[http://gbif-providertoolkit.googlecode.com/svn/trunk/gbif-ipt-docs/ipt2/IPTAdminAfterRegistration.png]
===Configure IPT settings===
This page allows a user having the Admin role to make and change settings for the following characteristics of this IPT instance:

*Base URL* - This is the URL that points to the root of this IPT installation. The URL is set automatically during the installation of the IPT. The Base URL must be accessible via the Internet in order for the IPT to function properly. Configuring the IPT Base URL to localhost, for example, will not allow the instance of the IPT to be registered with GBIF, will not allow the IPT to be associated with an organisation and will not allow the resources to be publicly accessible.<br>
*Proxy URL* - If the server on which the IPT is installed is routed through a proxy server or virtual host, enter the host address and port number as a URL in the format host:port, for example proxy.gbif.org:8080.<br>
*Google Analytics key* - If you would like to track the use of your instance of the IPT with Google Analytics, you can enable it to do so by entering your Google Analytics key. For more information about Google Analytics, see http://www.google.com/intl/en/analytics/index.html.<br>
*Enable GBIF Analytics* - Check this box if you would like to enable GBIF to track this instance of the IPT with Google Analytics.<br>
*Debugging Mode* - Check this box if you need IPT to begin logging in the verbose debugging mode. Debugging mode is generally unnecessary unless you are trying to track a problem with the IPT. The IPT log file is located in the file debug.log in the IPT's data directory. The data directory is set during the first step in the installation process (see the Getting Started Guide). Refer to the information under the "View IPT logs" heading of the "Administration Menus" section for an easy way for users having the Admin role to view the debug.log file.<br>
*IPT Server Location* - This area of the page allows the Admin to set the geographic coordinates (latitude and longitude) of the location of the server on which the IPT is installed. Setting these coordinates allows GBIF to map the location of registered IPT installations around the world.

===Update Metadata===
This option is an administrative action to create a new version of the EML file, in which the resource metadata are stored) for every published resource. Then, for every registered resource, this option also updates the GBIF Registry with the resource title, description, primary contact name and email address, and the URL of the services provided by the instance of the IPT. If any of the following conditions have been met since the last time the metadata were updated, click on this button to make the necessary updates: 
 * metadata have been added or changed (see the "Metadata" section under the "Resource Overview" heading in the "Manage Resources Menu" section)
 * the Base URL or Proxy URL have been changed (see the information under the "IPT settings" heading in the "Administration Menu" section). 

===Configure User accounts===
This page allows users having the Admin role to create, modify, and delete user accounts. When the page is first opened, it shows a table of existing users and basic information about them including their names, email addresses, roles, and the date and time of their last logins.

====Create a new user====
A new user can be created by first clicking on the button labeled "Create" below the list of existing users. Following are explanations of the information that must be entered about the new user, after which the new user can be created by clicking on the button labeled "Save":<br>
*Email* - The full, active email address of the user. The email address is used as an identifier within the IPT and can not be changed. If the user requires a change of email address, the correct procedure is to create a new user account with the new email address, then delete the user account having the antiquated email address.<br>
*First name* - The first name of the user.<br>
*Last name* - The last name of the user.<br>
*Role* - The role the user will have with respect to this installation of the IPT. Admin users can make changes to all aspects of the instance of the IPT. Users having the role "Manager with registration rights" are able to create, edit, remove, manage, and register resources they create of have been invited to manage within the IPT instance. Users having the role "Manager without registration rights have the same capabilities as the Manager with registration rights except that they cannot register resources with the GBIF network. Other users can log in to the IPT and view resources, but cannot make any changes.<br>
*Password* - A password for the user. The password should be made secure and safe from loss, as it is not recoverable from the IPT application. If a user's password is lost, it can be reset to an automatically generated new value by another user having the Admin role. It is the responsibility of the Admin user to communicate this new password to the user for whom it was reset. The user can then change the password to the desired value by entering it in the IPT Account page accessible through the "Account" link in the upper right corner of every page after logging in.<br>
*Verify password* - An exact copy of the password as entered in the Password text box to confirm that it was entered as intended.<br>

====Modify an existing user====
Information about users can be changed in the user details page after selecting the name of the user you wish to modify from the list of existing users. The user detail page shows all of the information about that user. The first name, last name, and role for the user can be changed by entering the new values and clicking on the button labeled "Save". Details of the information to be entered on this page can be found in the explanations in the "Create a new user" section, above.

====Reset password====
If a user forgets a password, a new one can be generated by clicking on the button labeled "Reset Password", after which new password is given in an information message at the top of the page. The IPT does not inform the affected user of this change, so it is the responsibility of the Admin who resets the password to communicate the new one to the user.

====Delete a user====
Users accounts that are no longer necessary can be deleted using the user detail page accessed by selecting the name of the user you wish to delete from the list of existing users. On the user detail page, click on the button labeled "Delete" to remove this user account. Note: there are several conditions under which a user cannot be deleted. A user cannot delete an account while logged in to that account. It must be deleted from another account having the Admin role. Also, the IPT installation must always have at least one user having the Admin role, so the last remaining one can not be deleted. To do so, first create a new user having the Admin role and use that to delete the account. Finally, each resource must have at least one associated user having either the Admin or one of the Manager roles, so the last remaining Manager of a resource can not be deleted. To do so, first associate another user having the Admin or one of the Manager roles with the resources for which this user is the last remaining manager. Refer to the information under "Resource Managers"  in the "Edit an existing resource" section above to see how new managers can be assigned. 

==Configure GBIF registration options==
This page allows a user to register the IPT instance in the GBIF Registry if this has not already been done. The IPT must be registered before any of the IPTs resources can be associated with an organisation (see the information under the "Configure organizations" heading in the "Administration Menu" section) or published. Information about a registered IPT and its public resources become searchable through the Registry's services, and the data from the public resources published on the IPT can be indexed for searching via the GBIF portal. If the IPT has already been registered, the registered information for the IPT can only be changed by contacting the GBIF Help Desk (helpdesk@gbif.org).
The first step to register with GBIF is to test that the IPT has a valid URL that can be reached by the GBIF services. To run this test, click on the button labeled "Validate". If the test is unsuccessful, an error message will suggest the nature of the problem with the communication between the GBIF Registry and the IPT. Basic causes for an error include having the IPT unable to communicate with the GBIF Registry and vice versa. Specific causes of error include loss of connection to the Internet while the Configure GBIF registration page is open, having an incorrect Base URL, having an incorrect or missing Proxy URL (if needed), and failure communication to the GBIF Registry. The IPT requires an active Internet connection to function properly. Restore intent connectivity before trying to proceed with registration. Problems with the Base URL and Proxy URL can be amended on the IPT Settings page. Problems connecting to the GBIF registry should be reported to the GBIF help desk (helpdesk@gbif.org).
If the IPT passes the validation step above, a form showing additional information required for the registration is presented. In this step, the organisation with which the IPT instance will be associated must already be registered in the GBIF Registry. Following are explanations of the specific information to select or enter:<br>
*Organisation* - the box contains a list of organisations in the GBIF registry. Select the single organisation with which this IPT instance will be associated. If you are unable to find the organisation on the list, use the GBIF Registry (http://gbrds.gbif.org) to determine if the organisation is registered under a name other than what you expected. If the organisation is not yet registered with GBIF, please contact the GBIF Help Desk to register the organisation before proceeding with the registration of the IPT.<br>
*Organisation's password* - the correct password registered in the GBIF registry for the selected organisation must be entered here to verify that the user has the authorisation required to associate the IPT instance with that organisation. The password will be used to authenticate the IPT registration when the button labeled "Save" is is clicked.<br>
*Alias* - enter a convenient name or code to represent the organisation within this instance of the IPT. The alias will appear in place of the full organisation name in organisation select boxes in the IPT user interfaces.<br>
*Can host resource?* - check this box if the selected organisation can also be associated with resources published on this instance of the IPT. If left unchecked, the organisation will not appear in the list of organisations available to associate with a resource. Leave unchecked only if this organisation is only the host for the IPT instance, not for any of the resources published through the IPT instance.<br>
*Title for the IPT installation* - enter the title of the IPT installation to be used in the GBIF Registry. The title is the primary information used for listing and searching for the IPT installation in the Registry.<br>
*Description for this IPT installation* - enter the description of the IPT installation to be used in the GBIF Registry. The description is meant to help users of the Registry to further understand the significance of the IPT instance by allowing further information beyond the specific metadata fields to be shared.<br>
*Contact Name* - enter the name of the person who should be contacted for information about the IPT installation. This person should be someone who has an Admin role in the IPT instance and knows the technical details about the installation.<br>
*Contact Email* - enter the email address of the person whose name is given in the Contact Name.<br>
*IPT password* - enter the password that should be used to access the entry for this IPT installation in the GBIF Registry.<br>
*Save* - click on the button labeled "Save" when all of the information above is entered or selected to registry the the IPT installation with the GBIF Registry. After successfully registering the IPT installation, the Configure GBIF registration page will show that the IPT has already been registered and associated with the selected organisation. Any changes to the IPT registration (rather than resource registration - for which see the Visibility section under the "Resource Overview" heading in the "Manage Resources Menu" section as well as the information under the "Update Metadata" heading in the "Administration Menu" section) will have to be done in consultation with the GBIF Help Desk (helpdesk@gbif.org). Also, after a successful registration, the Configure organisations page will become accessible from the Administration menu.<br>

==Configure Organisations==
This page is unavailable until the IPT instance has been successfully registered in the GBIF Registry (see Configure GBIF registration, above). Once registered, this page shows a list of organisations that can be associated with resources in this IPT instance. An IPT that hosts data for organisations other than the one to which it is associated must have the additional organisations configured before they can be used. The list shows columns for "Organisation Name", "Alias", and "Can host resources?" The Organisation Name is the title of the organisation as registered in the GBIF Registry. The Alias is a name given to the organisation for use within the IPT instance for convenience. Aliases, rather then the full Organisation Name, appear in Organisation selection lists in the IPT. The checkbox under the column labeled "Can host resources?" indicates whether the organisation can be associated with resources in the IPT. Only those organisations having this box checked will appear in lists to be associated with a resource.
===Edit organisation===
Click on the button labeled "Edit" to open the page containing the details of the selected organisation. On this page a user having the Admin role can change the Alias and select or de-select the checkbox labeled "Can host resources? The organisation name, alias, and "Can host resources?" are explained in the introduction to the "Configure Organisations" section, above, and under the "Configure GBIF registration" heading in the "Administration Menu" section. 
===Add organisation===
Click on the button labeled "Add" to open a page on which an additional organisation can be selected from the GBIF Registry to be used in this instance of the IPT. For explanations of the fields and selections on this page, refer to the information under the "Configure GBIF registration" heading in the "Administration Menu" section of this user manual. After the desired organisation is selected and all other data entered, including the password for the organisation, click on the button labeled "Save" to add the selected organisation to the list.

==Configure Extensions==
This page allows a user having the Admin role to enable the instance of the IPT to import and share various pre-defined types of data, called extensions (or vocabularies) from the GBIF Registry. Each extension includes terms (or fields) that support a specific purpose. For example, the Darwin Core Taxon extension supports information pertaining to taxonomic names, taxon name usages, and taxon concepts and allows the IPT to host resources for taxonomic and nomenclatural checklists. In order to share data, the appropriate extensions must be enabled in the IPT. 
This page shows a list of extensions that have already been enabled (if any) and a list of available extensions that can be enabled. To the right of each listed extension is a summary of the information about it, including a brief description of the type of data the extension is meant to accommodate, a link to more information about the extension if it exists, the number of properties (fields, terms) in the extension, the name of the extension, it's namespace, RowType, and keywords. For more information about these attributes of an extension, see the documentation on Darwin Core Archives at http://rs.tdwg.org/dwc/terms/guides/text/.
Following are the actions that can be taken with respect to extensions:

===Update extensions===
Click on the button labeled "Update" to communicate with the GBIF Registry to retrieve new extensions and updates to extensions already on the lists in the IPT. An extension can make use of lists of terms of predefined values, known as
controlled vocabularies. Periodically these vocabularies may also change. Updating extensions will also retrieve the latest versions of the these vocabularies. After the update is complete, one or more messages will indicate how many updates were made and if there were any errors. 

===View extension details===
The title of each extension in the first column is a link to a detail page for that extension. The detail page shows all of the summary information that can be seen in the the right-hand column of the extensions list as well as the detailed description, references, and examples for each of the properties in the extension.

===Install extension===
For any of the extensions that have not yet been installed in the IPT, there is a button labeled "Install" under the extension name in the left-hand column. Click on this button to retrieve the extension from the GBIF registry and install it in the IPT.

===Remove extension===
For any extension that has already been installed in the IPT, it can be removed by clicking the button labeled "Remove". Extensions that are in use to mapped data for any resource in the IPT cannot be removed. Any attempt to do so will show an error message and a list of resources that use the extension in a mapping.

==View IPT logs==
This page shows messages from the admin.log file, which contains only those messages that are warnings or more severe. The complete log of messages (contained in debug.log) can be opened and viewed by clicking on the link labeled "complete log file". The contents of the complete log file may be useful when reporting a bug.

==About Menu (visible to all users)==
The default About page gives information about the IPT installation that is running, including information about the hosting organisation, if that has been registered. This page is meant to be customized for the individual IPT instance by editing the about.ftl file in the folder called "config" within the IPT data directory (see the information under the "IPT Settings" heading in the "Administration Menu" section). The about.ftl file is a Freemarker template that can contain a combination of HTML and variable references of the form ${host.variable!"alternate value if null"}. Look at the default about.ftl file for examples of variables that can be included.

----
=Tutorials=
Following are step-by-step tutorials for various commonly used aspects of using the IPT. All tutorials assume that the IPT has been installed and run for the first time as described in the Getting Started Guide.

Production Use setting for tutorials?
==Tutorial 1 - Collaborate to manage a metadata-only resource==
In this tutorial we will...
==Tutorial 2 - Create Darwin Core Occurrence resource==
In this tutorial we will...
Install occurrence extension, create occurrence resource, import CSV data source, map, translation.
==Tutorial 3 - Creating a Darwin Core Archive.==
In this tutorial we will...
Make one, then import it again, suggesting hoe this could be done on another server).
==Tutorial 4 - Using IPT in one organisation to host resources for other organisations==
In this tutorial we will...
Create a resource, save it, send it, import it.
==Tutorial 5 - Multi-extension Resource==
In this tutorial we will...
Install Taxon, Vernacular Names, and Description extensions, create new Checklist Resource, map all three extensions reusing the same source for taxon and vernacular mapping.

----
=About the IPT=
==Citation==
This User Manual adapts and builds upon the previous IPT User Manual (Réveillon 2009). The recommended citation for this User Manual is as follows:

Wieczorek, J. 2010. The GBIF Integrated Publishing Toolkit User Manual, version 2.0. Copenhagen: Global Biodiversity Information Facility.

==Copyright==
The GBIF Integrated Publishing Toolkit and this User Manual are Copyright 2010 by the Global Biodiversity Information Facility Secretariat.

==License==
The GBIF Integrated Publishing Toolkit is open source software released under the Apache License Version 2.0. You may obtain a copy of this License at http://www.apache.org/licenses/LICENSE-2.0. Unless required by applicable law or agreed to in writing, software distributed under this License is distributed on an "as is" basis, without warranties of conditions of any kind, either express or implied. See the License for the specific language governing rights and limitations under the License.

This User Manual is released under the Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License. You may obtain a copy of this license at http://creativecommons.org/licenses/by-nc-sa/3.0/. Though you should consult the actual license document for details, in general terms the license states that you are free to copy, distribute, transmit, remix and adapt the work, under the following conditions:

 * you must cite the work in the manner specified on this page (but not in a way that suggests that GBIF or the GBIF Secretariat endorses you or your use of the work);
 * you may not use this work for commercial purposes;
 * if you alter, transform, or build upon this work, you may distribute the resulting work only under the same or similar license to this one.
----
=Resources=
==Darwin Core Archive documentation==
Details about the structure of a Darwin Core Archive, abbreviated DWCA, can be found in the "Text Guide" section of the Darwin Core web site: http://rs.tdwg.org/dwc/terms/guides/text/. Further information about the IPT's use of DWCAs can be found on the GBIF IPT Google Code site wiki: (http://code.google.com/p/gbif-providertoolkit/wiki/DarwinCore).
==GBIF Help Desk==
Send email messages to helpdesk@gbif.org to report problems with GBIF services, such as the GBIF Registry. Do not send IPT-specific help question to the Help Desk. Instead send them to the IPT mailing list.
==GBIF Registry==
Use this online application to find information about find organisations, IPT instances, and resources registered with GBIF: http://gbrds.gbif.org.
==IPT code site==
The code site is the project repository for all of the open source code, management, and documentation of the IPT: http://code.google.com/p/gbif-providertoolkit/source/checkout/.
==IPT contributors mailing list==
Subscribe to this mailing list to receive messages generated by contributions to the GBIF IPT Google Code site. This group is for contributors to the IPT and those who would keep track of the changes to the code site as they occur: http://groups.google.com/group/gbif-ipt-contributors/.
==IPT developer documentation==
Developers who wish to contribute, or to use the latest revision of the source code for their installation should consult the "Developers" section of the GBIF IPT Google Code site wiki: http://code.google.com/p/gbif-providertoolkit/wiki/HowToContribute.
==IPT issue tracker==
The issue tracker is the bug report and feature request management system for the IPT software and documentation: http://code.google.com/p/gbif-providertoolkit/issues/list/.
==IPT mailing list==
Subscribe to this mailing list to send and receive messages related to the use of the Integrated Publishing Toolkit. This group is for users to support each other in the use of the IPT: http://lists.gbif.org/mailman/listinfo/ipt/.
==IPT server preparation==
This wiki page gives details about preparing a server to run the IPT can be found on the IPT project code site wiki at http://code.google.com/p/gbif-providertoolkit/wiki/IPTServerPreparation.
==IPT software updates==
This wiki page gives details about updating aspects of the IPT, including upgrading an older installation of the IPT to a new version: http://code.google.com/p/gbif-providertoolkit/wiki/IPTUpdates.
==IPT test installation==
GBIF provides a functional installation of the IPT for evaluation and testing purposes. The test installation of the latest release can be found at http://ipt.gbif.org.
----
=References=
Réveillon, A. 2009. The GBIF Integrated Publishing Toolkit User Manual, version 1.0. Copenhagen: Global Biodiversity Information Facility. 37 pp.

----
=Glossary=
*Checklist Resource* - a resource having information about one of many types of taxon-related lists.<br>
*Core extension* - one of two types of Darwin Core extensions (Taxon and Occurrence) used as the basis of a resource. Additional extensions might be linked to these extensions when mapping data in the IPT.<br>
*CSV file* - a file that contains data in the Comma-separated Value format.<br>
*Data directory - the full (rather than relative) path (location) in the file structure where the data associated with the IPT instance are located.<br>
*Darwin Core* - A standard consisting of terms and classes of terms used to share biodiversity data.<br>
*Darwin Core Archive* - a single zipped archive for a data set consisting of one or more text files of data, an XML file (meta.xml) describing the contents of the text files and how they relate to each other, and an XML file (eml.xml) containing the metadata in EML about the data set.<br>
*EML* - the Ecological Markup Language is a XML-based profile used to encode metadata about a data set. <br>
*Extension* - in this User Manual, an extension is a set of terms corresponding to a specific class of data. An extension should be thought of as an extension of the capabilities of the IPT rather than as an extension of any particular standard. For example, the Darwin Core Occurrence extension is set of terms from the Darwin Core describing Occurrences. It is not an extension to the Darwin Core.<br>
*GBIF Registry - the Global Biodiversity Resources Discovery System (GBRDS) is an application that manages the nodes, organisations, resources, and IPT installations registered with GBIF, making them discoverable and interoperable.<br>
*Metadata* - in this User Manual, metadata refers to the information about a data set as opposed the the primary data in the data set.<br>
*Metadata Resource* - a resource having information about a data sets, but without having the actual primary data. A metadata resource might give information about a collection that has not yet been digitized, for example.<br>
*Occurrence Resource* - a resource having information about Occurrences as defined in the Darwin Core.<br>
*Private* - a state of a resource in which only the creator, invited managers, and IPT administrators can view it.<br>
*Public* - a state of a resource in which anyone can view it.<br>
*Published Release* - the latest version of the Darwin Core Archive produced for a resource in the IPT and registered in the GBIF Registry.<br>
*Registered* - a state of a public resource or of an IPT instance in which anyone can discover it through the GBIF Registry.<br>
*Resource* - in this User Manual, resource refers to a data set and the metadata about it.<br>
*Resource Managers* - IPT users having a role that allows them to create, change, and remove resources.<br>
*RowType* - the category of information represented in an extension. The RowType is generally the URI the Class that best fits the information contained in the extension.<br>
*RSS* - Really Simple Syndication, a type of subscription format for tracking changes to a web site.<br>
*Shortname* - a short unique name used for resource identification within the IPT and services that access the IPT.<br>
*Source Data* - in this User Manual, the source data are the data that are mapped to extensions within a resource and may consist of text files or a database.<br>
*Visibility* - a term describing how a resource may be viewed (private, public, or registered).<br>