<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<!-- 
	Actions related to the administration section of the IPT 
	These will be accessible only by the users with administrative level privileges
 -->
<struts>
	<!-- The entry to the administration section -->
	<package name="admin" extends="ipt-default" namespace="/admin">
		<default-interceptor-ref name="adminStack"/>
		<default-action-ref name="home"/>
		
		<action name="home">
			<result>/WEB-INF/pages/admin/home.ftl</result>
		</action>
		
		<!-- IPT MAIN CONFIGURATION -->
		<action name="config" class="org.gbif.ipt.action.admin.ConfigAction">
			<result name="input">/WEB-INF/pages/admin/config.ftl</result>
			<result>/WEB-INF/pages/admin/config.ftl</result>
		</action>
		
		<!-- USER MANAGEMENT -->
		<action name="users" class="org.gbif.ipt.action.admin.UserAccountsAction" method="list">
			<result>/WEB-INF/pages/admin/users.ftl</result>
		</action>
		<action name="user" class="org.gbif.ipt.action.admin.UserAccountsAction">
			<result name="input">/WEB-INF/pages/admin/user.ftl</result>
			<result type="redirect">users.do</result>
		</action>
		
		<!-- EXTENSION & VOCAB MANAGEMENT -->
		<action name="extensions" class="org.gbif.ipt.action.admin.DwCExtensionsAction" method="list">
			<result>/WEB-INF/pages/admin/extensions.ftl</result>
		</action>
		<action name="extension" class="org.gbif.ipt.action.admin.DwCExtensionsAction">
			<result name="input">/WEB-INF/pages/admin/extension.ftl</result>
			<result type="redirect">extensions.do</result>
		</action>
		<action name="vocabulary" class="org.gbif.ipt.action.admin.VocabulariesAction">
			<result>/WEB-INF/pages/admin/vocabulary.ftl</result>
		</action>
		
		
		<!-- LOGS -->
		<action name="logs" class="org.gbif.ipt.action.admin.LogsAction">
			<result>/WEB-INF/pages/admin/logs.ftl</result>
		</action>
		
		<!-- REGISTRY ACTIONS -->
		<!-- 
		<action name="organisation" class="org.gbif.ipt.action.admin.GBIFRegistryAction">
			<result name="input">/WEB-INF/pages/admin/config.ftl</result>
			<result>/WEB-INF/pages/admin/config.ftl</result>
		</action>
		 -->		
		<action name="registration" class="org.gbif.ipt.action.admin.GBIFRegistryAction" method="initRegistration">
			<!-- <result name="input">/WEB-INF/pages/admin/registration.ftl</result> -->
			<result>/WEB-INF/pages/admin/registration.ftl</result>
		</action>		
		
		
		<action name="associate" class="org.gbif.ipt.action.admin.GBIFRegistryAction" method="associateOrgToIPT">
			<!-- <result name="input">/WEB-INF/pages/admin/registration.ftl</result> -->
			<result name="input">/WEB-INF/pages/admin/registration.ftl</result>
			<result>/WEB-INF/pages/admin/home.ftl</result>		
		</action>					
		
	</package>
</struts>
