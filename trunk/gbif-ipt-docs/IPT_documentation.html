<?xml version="1.0"
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="generator" content="http://txt2tags.sf.net" />
<style>img {border:1px solid black;}
</style>
</head>
<body bgcolor="#fafafa" text="black">
<div align="center">
</div>

<p></p>
<hr class="light" />
<p></p>
  <ul>
  <li><a href="#toc1">1. Background Information</a>
  </li>
  <li><a href="#toc2">2. General specifications</a>
  </li>
  <li><a href="#toc3">3. Installation</a>
    <ul>
    <li><a href="#toc4">3.1. Requirements</a>
    </li>
    <li><a href="#toc5">3.2. Brief overview of Java and Tomcat installation and configuration</a>
      <ul>
      <li><a href="#toc6">3.2.1. Java</a>
      </li>
      <li><a href="#toc7">3.2.2. Application server</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc8">3.3. IPT Installation</a>
    </li>
    <li><a href="#toc9">3.4. Geoserver Installation</a>
      <ul>
      <li><a href="#toc10">3.4.1. Geoserver and bundled plugin installation</a>
      </li>
      <li><a href="#toc11">3.4.2. Plugin installation</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc12">3.5. Geoserver Configuration</a>
    </li>
    <li><a href="#toc13">3.6. Mac OS X (TM) test installation</a>
    </li>
    </ul>
  </li>
  <li><a href="#toc14">4. Configuration</a>
    <ul>
    <li><a href="#toc15">4.1. Configuration</a>
      <ul>
      <li><a href="#toc16">4.1.1. Settings</a>
      </li>
      <li><a href="#toc17">4.1.2. Geoserver Settings</a>
      </li>
      <li><a href="#toc18">4.1.3. Organisation</a>
      </li>
      <li><a href="#toc19">4.1.4. IPT Instance</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc20">4.2. Extensions</a>
    </li>
    <li><a href="#toc21">4.3. Thesaurus</a>
    </li>
    <li><a href="#toc22">4.4. Manage Users</a>
      <ul>
      <li><a href="#toc23">4.4.1. User Profile</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc24">4.5. Current Users</a>
    </li>
    </ul>
  </li>
  <li><a href="#toc25">5. Resources Management</a>
    <ul>
    <li><a href="#toc26">5.1. Data Types</a>
      <ul>
      <li><a href="#toc27">5.1.1. Taxon Primary Occurence Data</a>
      </li>
      <li><a href="#toc28">5.1.2. Taxonomic Checklists</a>
      </li>
      <li><a href="#toc29">5.1.3. Resource Metadata</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc30">5.2. Resource Creation</a>
    </li>
    <li><a href="#toc31">5.3. Resource Metadata</a>
      <ul>
      <li><a href="#toc32">5.3.1. Basic Metadata</a>
      </li>
      <li><a href="#toc33">5.3.2. Resource Originator</a>
      </li>
      <li><a href="#toc34">5.3.3. Geographic Coverage</a>
      </li>
      <li><a href="#toc35">5.3.4. Taxonomic Coverage</a>
      </li>
      <li><a href="#toc36">5.3.5. Temporal Coverage</a>
      </li>
      <li><a href="#toc37">5.3.6. General Keywords</a>
      </li>
      <li><a href="#toc38">5.3.7. IPRights</a>
      </li>
      <li><a href="#toc39">5.3.8. Research Project</a>
      </li>
      <li><a href="#toc40">5.3.9. Methods</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc41">5.4. Resource Configuration (occurences and checklists only)</a>
      <ul>
      <li><a href="#toc42">5.4.1. Source Data</a>
      </li>
      <li><a href="#toc43">5.4.2. Property Mappings</a>
      </li>
      <li><a href="#toc44">5.4.3. Cache</a>
      </li>
      </ul>
    </li>
    <li><a href="#toc45">5.5. Resource Publication</a>
    </li>
    <li><a href="#toc46">5.6. Resource Edition</a>
    </li>
    </ul>
  </li>
  </ul>

<p></p>
<hr class="light" />
<p></p>
<a id="toc1" name="toc1"></a>
<h1>1. Background Information</h1>
<p>
The Global Biodiversity Information Facility (GBIF) works to make digital 
biodiversity data openly and freely available on the Internet for everyone. 
GBIF provides access to scientific biodiversity data for decision-making, research endeavours and public use. GBIF endorses both open source software 
and open data access.
</p>
<p>
In terms of structure, GBIF is a dynamic, growing partnership of countries, organisations, institutions and individuals working together to mobilise 
scientific biodiversity data. 
</p>
<p>
GBIF is also a network of data publishers who retain ownership and 
control of the data they share. Linked datasets provide a more robust representation of biodiversity than any single dataset. 
</p>
<p>
In this framework, GBIF develops software tools to make possible to 
easily integrate biodiversity data from heterogeneous sources using common 
standards and protocols. One of these tools is the GBIF Integrated Publishing Toolkit (IPT) that this user manual refers to.
</p>
<p>
The GBIF IPT is an open source, Java (TM) based web application 
that connects and serves three types of biodiversity data: taxon primary 
occurrence data, taxon checklists and general resource metadata. The data 
registered in a GBIF IPT instance is connected to the GBIF distributed 
network and made available for public consultation and use. Several factors 
have motivated the development of this new tool: 
</p>
<ul>
<li>the limitations of the existing systems to publish primary biodiversity 
occurrence records that use tools and protocols that were not designed 
to transfer big amounts of records (DiGIR, TAPIR, ABCD); 
</li>
<li>the need to decentralise and speed up the process of indexing biodiversity occurrence datasets; 
</li>
<li>the need to offer additional benefits and services to the data publishers to encourage data publication (i.e. public web interface to 
browse/expose (meta)data, mapping services); 
</li>
<li>the need to offer data quality assessment tools to data publishers and 
generalise data cleaning habits; 
</li>
<li>the need to increase data exchange using globally accepted formats 
(i.e. OGC web services); 
</li>
<li>the need for easy ways to monitor data access and use for the different 
resources connected to the GBIF Network; 
</li>
<li>the lack of appropriate tools to publish other types of biodiversity data, 
such as names checklists and dataset metadata; 
</li>
<li>existing requests to facilitate and automate dataset registration with 
the GBIF Network; 
</li>
<li>the requirement to implement (and assign if needed) Universal Unique 
Identifiers (UUIDs) associated to all published elements to increase 
interoperability in the GBIF Network; 
</li>
</ul>

<p>
The GBIF IPT, as an open source project, is made freely available for both 
those who wish to use it to publish their data and those who wish to participate in its development, documentation and helpdesk. This is a list of the 
current online resources related to the GBIF IPT: 
</p>
<ul>
<li>the GBIF IPT mailing list: <a href="http://lists.gbif.org/mailman/listinfo/ipt/">http://lists.gbif.org/mailman/listinfo/ipt/</a>; 
</li>
<li>the GBIF IPT test installation (for testing purposes): <a href="http://ipt.gbif.org/">http://ipt.gbif.org/</a>; 
</li>
<li>the GBIF IPT code site: <a href="http://code.google.com/p/gbif-providertoolkit/">http://code.google.com/p/gbif-providertoolkit/</a>. 
</li>
</ul>

<a id="toc2" name="toc2"></a>
<h1>2. General specifications</h1>
<p>
The GBIF Integrated Publishing Toolkit (IPT) is an Open source Java based web application. It embeds its own database, is easily customisable and is multilingual. It has a user management feature based on roles, which allows for multiple data managers to share a common instance.
</p>
<p>
It connects and serves three types of data : taxon primary occurrence data, taxon checklists and general resource metadata. The IPT manages multiple data sources and has several upload options: relational database management systems or tab files. It does not however accept manual entries (except for individual metadata descriptions).
</p>
<p>
Its public web interface allows for data browsing and full text search. It also offers customised details pages for the three types of data, with specific functionality for each type (i.e. density maps, metadata edition). 
</p>
<p>
The IPT manages Universally Unique IDentifiers (UUID), recycling existing IDs or providing new ones, as appropriate. It also manages technical metadata about the installation and allows for an easy setup of Google Analytics for usage statistics. 
</p>
<a id="toc3" name="toc3"></a>
<h1>3. Installation</h1>
<a id="toc4" name="toc4"></a>
<h2>3.1. Requirements</h2>
<p>
The IPT will run on any of the most widespread Operating Systems (Linux, Mac OS (TM), MS Windows (TM)) provided that:
</p>
<ul>
<li>Java (TM) runtime environment (<a href="http://java.sun.com/">http://java.sun.com/</a>) version 5 or higher is installed; 
</li>
<li>A web server with a servlet container, such as Apache Tomcat (<a href="http://tomcat.apache.org">http://tomcat.apache.org</a>) or Jetty (<a href="http://jetty.mortbay.com/">http://jetty.mortbay.com/</a>), is installed and connected to the Internet.
</li>
</ul>

<a id="toc5" name="toc5"></a>
<h2>3.2. Brief overview of Java and Tomcat installation and configuration</h2>
<p>
It is beyond the scope of this manual to provide detailed installation and configuration instructions for the virtual machine and the server. Here is a quick overview for MS Windows (TM) and Mac OS (TM) computers.
</p>
<a id="toc6" name="toc6"></a>
<h3>3.2.1. Java</h3>
<p>
Mac OS X (TM) includes a fully configured and ready-to-use Java runtime environment. 
</p>
<p>
For MS Windows (TM) machines, follow these steps to install it: 
</p>
<ol>
<li>Download the Java 2 Standard Edition Runtime Environment (JRE), release version 5.0 or later, from <a href="http://java.sun.com/j2se">http://java.sun.com/j2se</a>.
</li>
<li>Install the JRE according to the instructions included with the release.
</li>
<li>Set an environment variable named JRE_HOME to the pathname of the directory into which you installed the JRE, e.g. c:\jre5.0:
 <ol>
 <li>Open the <i>Control Panel</i> and click the <i>System</i> icon. 
 </li>
 <li>Go to the <i>Advanced</i> pane and click the <i>Environment variables</i> button. 
 </li>
 <li>In the <i>System variables</i> section, click <i>New</i>. In the <i>Variable name</i> box, type JRE_HOME; in the <i>Variable value</i> box, type the path to the JRE e.g. C:\Program Files\Java\jre6
 </li>
 </ol>
</li>
</ol>

<a id="toc7" name="toc7"></a>
<h3>3.2.2. Application server</h3>
<p>
The IPT should run in any compliant java application server using Java 1.5. Tomcat 5.5 is recommended for the installation. It was also successfully tested on Tomcat 6 and Jetty.
</p>
<p>
The application server will need a rather large amount of memory allocated as the IPT runs a full database. It is recommended to increase the server's available memory to at least 1GB (general instructions below). 
</p>
<h4>3.2.2.1. Tomcat installation</h4>
<ol>
<li>Download a binary distribution of Tomcat from <a href="http://tomcat.apache.org/download-55.cgi">http://tomcat.apache.org/download-55.cgi</a>.
</li>
<li>Unpack the binary distribution into a location of your choice (e.g. C:\apache-tomcat-5.5.27)
</li>
<li>Open a command prompt window and navigate to the installation folder.
</li>
<li>Mac OS only: some files need to have their permissions adapted: type “<i>sudo chmod 775 *</i>” at the command line. You will be asked your administrative password.
</li>
<li>go to the <i>bin</i> folder and execute startut.bat (Window) or startup.sh (Mac OS). A new Tomcat window will open. You need to keep this window open.
</li>
</ol>

<h4>3.2.2.2. Tomcat configuration</h4>
<p>
Tomcat comes with very little allocated memory. In order to increase performance, this amount should be increased depending on the amount of physical memory on the server. If the server has at least 2GB of RAM, the available memory should be increased to 1GB. For more information on how to do it, see the following links:
</p>
<ul>
<li><a href="http://explanatorygap.net/2005/03/06/configuring-tomcat-under-os-x-server-for-more-memory/">http://explanatorygap.net/2005/03/06/configuring-tomcat-under-os-x-server-for-more-memory/</a>
</li>
<li><a href="http://wiki.apache.org/tomcat/FAQ/Memory">http://wiki.apache.org/tomcat/FAQ/Memory</a>
</li>
</ul>

<a id="toc8" name="toc8"></a>
<h2>3.3. IPT Installation</h2>
<ol>
<li>Download the web archive file (ipt-1.0.war at the time of writing) from the project downloads page: <a href="http://code.google.com/p/gbif-providertoolkit/downloads/list">http://code.google.com/p/gbif-providertoolkit/downloads/list</a>
</li>
<li>Rename it to ipt.war and copy it into the webapps folder of the Tomcat installation directory.
</li>
<li>Launch Tomcat:
 <ol>
 <li>open a command prompt (MS Windows(TM)) or a terminal window (Mac OS (TM)) 
 </li>
 <li>navigate to the Tomcat installation folder
 </li>
 <li>go to the bin folder and execute startup.bat (windows) or startup.sh (Mac OS)
 </li>
 </ol>
</li>
<li>The IPT can then be accessed in any browser at <a href="http://localhost:8080/ipt/">http://localhost:8080/ipt/</a>
</li>
</ol>

<a id="toc9" name="toc9"></a>
<h2>3.4. Geoserver Installation</h2>
<p>
GeoServer (<a href="http://geoserver.org/">http://geoserver.org/</a>) is an open source software server written in Java that allows users to share and edit geospatial data. It is used to run IPT geographic web services via a plugin that can access the IPT cache. If there is already a geoserver installation on the server, only the plugin needs to be installed. If there is no such installation, a geoserver archive bundled with the plugin is provided.
</p>
<a id="toc10" name="toc10"></a>
<h3>3.4.1. Geoserver and bundled plugin installation</h3>
<p>
This installation is required if the Geoserver is not yet installed on the machine.
</p>
<ol>
<li>Download the zipped archive from the project downloads page;
</li>
<li>Extract it into the Tomcat webapps folder and rename it as “geoserver”;
</li>
<li>Restart Tomcat (shutdown.bat then startup.bat on MS Windows (TM), shutdown.sh and startup.sh on Mac OS(TM)).
</li>
</ol>

<a id="toc11" name="toc11"></a>
<h3>3.4.2. Plugin installation</h3>
<p>
If the Geoserver is already installed on the server, only the plugin needs to be installed.
</p>
<ol>
<li>Downoad the jar file from the project downloads page;
</li>
<li>Install it in your existing Geoserver installation, in the geoserver/WEB-INF/lib folder;
</li>
<li>Restart Tomcat (shutdown.bat then startup.bat on MS Windows (TM), shutdown.sh and startup.sh on Mac OS (TM)) .
</li>
</ol>

<a id="toc12" name="toc12"></a>
<h2>3.5. Geoserver Configuration</h2>
<p>
In order to allow the IPT and the Geoserver to communicate to one another, it is necessary to define the IPT Base Directory. It is done by: 
</p>
<ul>
<li>navigating with your web browser to <a href="http://localhost:8080/ipt/">http://localhost:8080/ipt/</a>;
</li>
<li>logging in with username <i>admin</i> and password <i>admin</i>;
</li>
<li>navigating to <i>Settings</i> &gt; <i>Settings</i> &gt; <i>IPT Base Directory</i>;
</li>
<li>pressing the <i>Update Geoserver</i> button.
</li>
</ul>

<p>
This procedure will be explained with more details in the <i>Configuration</i> section of this document.
</p>
<p>
For more information about the Geoserver, please refer to its own manual: <a href="http://geoserver.org/">http://geoserver.org/</a>
</p>
<a id="toc13" name="toc13"></a>
<h2>3.6. Mac OS X (TM) test installation</h2>
<p>
A standalone version without any dependencies is provided for Mac OS X. It is very easy to install as it only requires a simple click and is very convenient to test the IPT. It should not however be used for production purposes.
The disk image can be downloaded at the time of writing from the following address: <a href="ftp://ftp.gbif.org/projects/ipt/downloads/ipt-1.0b.8.dmg">ftp://ftp.gbif.org/projects/ipt/downloads/ipt-1.0b.8.dmg</a>
</p>
<a id="toc14" name="toc14"></a>
<h1>4. Configuration</h1>
<p>
Once the IPT has been installed, it is accessible in a web browser at the following URL: <a href="http://localhost:8080/ipt/">http://localhost:8080/ipt/</a>
</p>
<p>
To be able to configure the software, one must login as administrator by clicking on the <i>Login</i> button in the main menu and entering a username and password. By default, the administrative username is <i>admin</i> and the password is also <i>admin</i>.
</p>
<p>
Once logged in, a new <i>Admin</i> section appears in the menu. The subsequent drop-down menu offers the following choices:
</p>
<ul>
<li>Configuration
</li>
<li>Extensions
</li>
<li>Thesaurus
</li>
<li>Manage Users
</li>
<li>Current Users
</li>
</ul>

<p>
<img align="middle" src="screenshots/admin_menu.png" border="0" alt=""/>
</p>
<a id="toc15" name="toc15"></a>
<h2>4.1. Configuration</h2>
<p>
The Configuration section is divided in three configuration options available via the menu on the right hand side of the page:
</p>
<ul>
<li>Settings
</li>
<li>Organisation
</li>
<li>IPT Instance
</li>
</ul>

<p>
<img align="middle" src="screenshots/config_menu.png" border="0" alt=""/>
</p>
<a id="toc16" name="toc16"></a>
<h3>4.1.1. Settings</h3>
<p>
The Settings page allows the administrator to define a number of parameters that are essential for the IPT to function correctly.
</p>
<p>
<img align="middle" src="screenshots/config_settings.png" border="0" alt=""/>
</p>
<h4>4.1.1.1. IPT Base URL</h4>
<p>
This is the URL of the IPT. It is filled in by default with the local URL (<a href="http://localhost:8080/ipt">http://localhost:8080/ipt</a>). ). In order to make the IPT instance accessible by distant users on a network, the parameter should be changed to the public URL (e.g. <a href="http://67.233.45.122:8080/ipt">http://67.233.45.122:8080/ipt</a> or <a href="http://example.com:8080/ipt">http://example.com:8080/ipt</a>).
</p>
<h4>4.1.1.2. IPT Data Directory</h4>
<p>
This field defines the location of the IPT data folder in the file system. It is filled in by default and does not need to be changed. It is followed by a button that must be clicked for the Geoserver to know where to access the IPT. If the IPT is moved or renamed, it is necessary to renew the location by pressing the <i>Update Geoserver</i> button. 
</p>
<h4>4.1.1.3. Logging</h4>
<h4>4.1.1.4. Google Maps API Key</h4>
<p>
In order to use Google Maps (TM) feature embeded in the IPT pages, it is necessary to own a <i>Google Maps API Key</i>. This free key is specific to a server and needs to be requested for each public installation. The administrator can get such a key for free by clicking on the “Get Google Maps API key” link and following instructions provided by Google.
</p>
<h4>4.1.1.5. Additional raw HTML headers</h4>
<a id="toc17" name="toc17"></a>
<h3>4.1.2. Geoserver Settings</h3>
<p>
The Settings page also allows the administrator to define some parameters for the Geoserver. For more information about the Geoserver, see its users guide: <a href="http://geoserver.org/display/GEOSDOC/Users+Guide">http://geoserver.org/display/GEOSDOC/Users+Guide</a>
</p>
<p>
<img align="middle" src="screenshots/config_geoserver_settings.png" border="0" alt=""/>
</p>
<h4>4.1.2.1. Base URL</h4>
<p>
The Base URL is the URL of the Geoserver. It is filled in by default with the local Geoserver URL (<a href="http://localhost:8080/geoserver">http://localhost:8080/geoserver</a>). In order to make the Geoserver accessible by distant users on a network, the parameter should be changed to a public URL (e.g. <a href="http://67.233.45.122:8080/geoserver">http://67.233.45.122:8080/geoserver</a> or <a href="http://example.com:8080/geoserver">http://example.com:8080/geoserver</a>).
</p>
<h4>4.1.2.2. Data Directory</h4>
<p>
The Data Directory is the location in the server file system of the directory where data reside. It is filled in by default but can be modified manually.
</p>
<h4>4.1.2.3. Admin User and password</h4>
<p>
By default, the administrative username is <i>admin</i> and the administrative password is <i>geoserver</i>. These parameters <i>must</i> be changed if the server is to be used for production and/or accessible to the public.
</p>
<a id="toc18" name="toc18"></a>
<h3>4.1.3. Organisation</h3>
<p>
This page allows the administrator to define the GBIF organisation hosting the IPT installation. It is necessary to define the organisation in order to register the IPT. The GBIF keeps a directory of organisations, resources and services and a password is necessary to register the organisation or to access its data.
</p>
<p>
<img align="middle" src="screenshots/config_organisation.png" border="0" alt=""/>
</p>
<p>
The following fields must filled in:
</p>
<dl>
<dt>Title </dt><dd>
  Full name of the organisation
</dd>
<dt>Organisation Identifier</dt><dd>
Code provided automatically by the GBIF once the organisation is registered filling and sending this form
</dd>
<dt>GBIF Node </dt><dd>
  GBIF Participant Node that endorses the publication of the data in this installation to be connected to the GBIF Network
</dd>
<dt>Organisation password </dt><dd>
  This password can be used by other members of the organisation to retrieve the information
</dd>
<dt>Contact Name </dt><dd>
  Name of the contact person
</dd>
<dt>Contact Email </dt><dd>
  Email of the contact person
</dd>
<dt>Homepage </dt><dd>
  URL of the organisation's website
</dd>
<dt>Description </dt><dd>
  Description of the organisation
</dd>
<dt>Cancel / Save / Register </dt><dd>
  The three buttons allow the administrator to respectively delete what he just typed, saved the information in the form or register the organisation with the GBIF. When does so, he will receive an Organisation Identifier that will be automatically filled in the right field. The <i>Register</i> button is only available if the organisation is not yet registered.
</dd>
<dt>Clear form</dt><dd>
  This link is only available if a registered organisation is already defined. It allows the administrator to clear the form in order to register a new organisation.
</dd>
<dt>Resend Password</dt><dd>
  This link is only available if a registered organisation is already defined. An e-mail with the organisation's password is sent to the organisation's contact person when the link is clicked.
</dd>
</dl>

<a id="toc19" name="toc19"></a>
<h3>4.1.4. IPT Instance</h3>
<p>
This page allows the administrator to define some parameters regarding the IPT instance that is being run. The information filled in on this page will be used to populate the homepage of this IPT instance.
</p>
<p>
<img align="middle" src="screenshots/config_ipt_instance.png" border="0" alt=""/>
</p>
<dl>
<dt>Resource Identifier </dt><dd>
  This is a code provided by the GBIF when the IPT instance is registered.
</dd>
<dt>Title </dt><dd>
  this is the name given to the IPT instance. It can be the name of an organisation, a project, a natural history collection, etc.
</dd>
<dt>Contact Name </dt><dd>
  Name of the contact person
</dd>
<dt>Contact Email </dt><dd>
  Email of the contact person
</dd>
<dt>Homepage </dt><dd>
  URL of the organisation's website
</dd>
<dt>Latitude and Longitude </dt><dd>
  the coordinates will be used to display the right portion of the Google Maps.
</dd>
<dt>Description </dt><dd>
  description of the organisation
</dd>
<dt>Image URL </dt><dd>
  URL of the image used on the front page of the IPT instance. This URL must be public.
</dd>
</dl>

<a id="toc20" name="toc20"></a>
<h2>4.2. Extensions</h2>
<p>
Extensions allow for serving additional data types, such as multiple identifications or descriptive data about species.
</p>
<p>
The page provides a list of available extensions and shows whether they are installed or not. Each extension can be installed or uninstalled by clicking on its name.
</p>
<p>
<img align="middle" src="screenshots/extensions.png" border="0" alt=""/>
</p>
<p>
By default, available extensions are:
</p>
<ul>
<li>ResourceRelationship 
</li>
<li>SampleAttribute
</li>
<li>EventAttribute 
</li>
<li>Identification 
</li>
<li>Description 
</li>
<li>Multimedia 
</li>
<li>CommonName 
</li>
<li>Distribution 
</li>
<li>MaterialExamined 
</li>
<li>DarwinCore 
</li>
<li>Taxon 
</li>
<li>VernacularName
</li>
</ul>

<p>
Clicking on an extension name will open a new page with information about the extension, including a list of properties.  The administrator can get more information about a property by clicking on its name. It is also possible on this page to install or remove an extension.
</p>
<p>
<img align="middle" src="screenshots/extensions_example.png" border="0" alt=""/>
</p>
<p>
It is also possible to define custom extensions, but the process is not automated in version 1.0 of the IPT.
</p>
<a id="toc21" name="toc21"></a>
<h2>4.3. Thesaurus</h2>
<p>
Thesaurus vocabularies allow for specifying controlled vocabularies to help standardise concepts. This page shows a list of the available thesauri. 
</p>
<p>
<img align="middle" src="screenshots/thesaurus.png" border="0" alt=""/>
</p>
<p>
By default, available thesauri are:
</p>
<ul>
<li>ISO 639-1 Languages 
</li>
<li>Country Codes 
</li>
<li>Language Vocabulary 
</li>
<li>Darwin Core Type Vocabulary
</li>
<li>Nomenclatural Codes
</li>
<li>Taxonomic Ranks
</li>
</ul>

<p>
Clicking on a thesaurus name will open a new page with information about the thesaurus, including a list of terms.
</p>
<p>
<img align="middle" src="screenshots/thesaurus_example.png" border="0" alt=""/>
</p>
<p>
It is also possible to define custom vocabularies, but the process is not automated in version 1.0 of the IPT.
</p>
<a id="toc22" name="toc22"></a>
<h2>4.4. Manage Users</h2>
<p>
This page allows the administrator to manage users. It displays a list of users with their usernames, full names and emails. Clicking on the username edits the user profile. The list can also be exported using different formats (CSV, Excel, XML and PDF).
</p>
<p>
<img align="middle" src="screenshots/manage_users.png" border="0" alt=""/>
</p>
<p>
The administrator can also add a new user through the <i>Add</i> button at the bottom of the page.
</p>
<a id="toc23" name="toc23"></a>
<h3>4.4.1. User Profile</h3>
<p>
The User Profile page allows the administrator to add a new user or to edit or delete an existing user.
</p>
<p>
<img align="middle" src="screenshots/user_profile.png" border="0" alt=""/>
</p>
<p>
To add a new user, the following fields must be filled in:
</p>
<dl>
<dt>username (mandatory field)</dt><dd>
</dd>
<dt>password (mandatory field)</dt><dd>
  needs to be filled in twice for confirmation
</dd>
<dt>e-mail (mandatory field)</dt><dd>
</dd>
<dt>password hint (mandatory field)</dt><dd>
  will be e-mailed to the user who forgot his password
</dd>
<dt>first name (mandatory field)</dt><dd>
</dd>
<dt>last name (mandatory field)</dt><dd>
</dd>
</dl>

<p>
The administrator must also apply some settings to the account:
</p>
<dl>
<dt>Enabled </dt><dd>
  the account is enabled and ready to be used
</dd>
<dt>Expired </dt><dd>
  the account is no longer valid and cannot be used to login to the IPT
</dd>
<dt>Locked </dt><dd>
  the account is locked and cannot be used to login to the IPT
</dd>
<dt>Password Expired </dt><dd>
  the password must be changed at next login.
</dd>
</dl>

<p>
Finally, the administrator must assign one or several roles to the account. The following roles are available:
</p>
<dl>
<dt>ROLE_ADMIN </dt><dd>
 the user is given administrative rights and has access to all the features of the IPT, in particular its technical settings. The administrator can also manage the data recorded in the IPT. This role supersedes all the other roles and can do anything any other role can do.
</dd>
<dt>ROLE_MANAGER </dt><dd>
  the user is given manager rights and can manage the data recorded in the IPT, and can create, edit, delete, or publish data.
</dd>
<dt>ROLE_USER </dt><dd>
  the user role is the most basic role of the IPT. The user can explore the site, browse the published information and annotate resources. 
  %Is it really possible to annotate resources?
</dd>
</dl>

<p>
To assign a user a role, the administrator must select it in the <i>Available Roles</i> column and click on the arrow to move it in the <i>Current Roles</i> column.
</p>
<p>
<img align="middle" src="screenshots/assign_role.png" border="0" alt=""/>
</p>
<p>
Conversely, to remove a role from a user, the administrator must select it in the <i>Current Roles</i> column and click on the arrow to move it back to the <i>Available Roles</i> column.
</p>
<p>
A visitor that is not logged in is considered to be an <i>anonymous user</i>. Such a user can explore the site and browse the published information.
</p>
<a id="toc24" name="toc24"></a>
<h2>4.5. Current Users</h2>
<p>
This page displays a list of the currently logged in users on the IPT. The administrator is offered the possibility to send them an e-mail.
</p>
<p>
<img align="middle" src="screenshots/current_users.png" border="0" alt=""/>
</p>
<a id="toc25" name="toc25"></a>
<h1>5. Resources Management</h1>
<a id="toc26" name="toc26"></a>
<h2>5.1. Data Types</h2>
<a id="toc27" name="toc27"></a>
<h3>5.1.1. Taxon Primary Occurence Data</h3>
<p>
Taxon Primary Occurrence Data (or simply, occurrence data) is defined in the scope of GBIF as digital text or multimedia data record detailing facts about the instance of occurrence of an organism, i.e. on the what, where, when, how and by whom of the occurrence and the recording.
</p>
<p>
In terms of connecting data to the IPT, an occurrence dataset is defined as a table or database storing information about the distribution of biological organisms in the form of points defined by a textual description and/or geographical coordinates.
</p>
<a id="toc28" name="toc28"></a>
<h3>5.1.2. Taxonomic Checklists</h3>
<p>
Taxonomic checklist data refers to structured data providing information about taxonomic names and their relationships.
</p>
<a id="toc29" name="toc29"></a>
<h3>5.1.3. Resource Metadata</h3>
<p>
In the context of GBIF, metadata records are those which provide information about the suppliers of biodiversity data and about the origins and purpose of those data.
</p>
<p>
In regards of the IPT, a metadata record is composed of all the descriptive information that must be attached to a dataset in terms of origin (who produced the original data, who is connecting it to the IPT instance), contents (both taxonomically and geographically), intellectual property rights, etc.
</p>
<a id="toc30" name="toc30"></a>
<h2>5.2. Resource Creation</h2>
<p>
New resources are created by a manager (or an administrator) on the <i>Manage</i> page.
</p>
<p>
The manager chooses which resource type to create by clicking on the corresponding link in the <i>Resource Actions</i> menu: <i>New Occurence Resource</i>, <i>New Checklist Resource</i> or <i>New Metadata Resource</i>.
</p>
<a id="toc31" name="toc31"></a>
<h2>5.3. Resource Metadata</h2>
<p>
When the resource has been created, the manager can add its metadata.
</p>
<a id="toc32" name="toc32"></a>
<h3>5.3.1. Basic Metadata</h3>
<p>
<img align="middle" src="screenshots/basic_metadata.png" border="0" alt=""/>
</p>
<p>
The first step is to basically describe the dataset that will be published. The manager must fill in the following fields:
</p>
<dl>
<dt>Title</dt><dd>
  Title of the resource
</dd>
<dt>Type</dt><dd>
  Type of data:
    <ul>
    <li>Checklist
    </li>
    <li>Fossil Specimen
    </li>
    <li>Legislative Checklist
    </li>
    <li>Living Specimen
    </li>
    <li>Moving Image
    </li>
    <li>Nomenclature Checklist
    </li>
    <li>Organism Observation
    </li>
    <li>Organism Observation by Human
    </li>
    <li>Organism Observation by Machine
    </li>
    <li>Preserved Specimen
    </li>
    <li>Regional Checklist
    </li>
    <li>Sound Recording
    </li>
    <li>Species Descriptions
    </li>
    <li>Species Distributions
    </li>
    <li>Specimen
    </li>
    <li>Still Image
    </li>
    <li>Taxonomic Checklist
    </li>
    </ul>
</dd>
<dt>Contact Name</dt><dd>
</dd>
<dt>Contact Email</dt><dd>
</dd>
<dt>Upload logo</dt><dd>
  The manager can upload a logo associated with the resource. The logo must be a squared image 68 pixels wide.
</dd>
<dt>Description</dt><dd>
  Description of the resource
</dd>
</dl>

<p>
Once the fields have been filled in and the form saved, the resource is created and can be accessed from the <i>Manage</i> section.
</p>
<a id="toc33" name="toc33"></a>
<h3>5.3.2. Resource Originator</h3>
<p>
<img align="middle" src="screenshots/resource_originator.png" border="0" alt=""/>
</p>
<p>
This section describes the originator of the resource, i.e. the person responsible for the information entered in the IPT. The following fields are to be filled in:
</p>
<ul>
<li>Resource Language (mandatory field)
</li>
<li>First Name (mandatory field)
</li>
<li>Last Name (mandatory field)
</li>
<li>Organisation
</li>
<li>Position
</li>
<li>Phone
</li>
<li>Email (mandatory field)
</li>
<li>Homepage
</li>
<li>Address
</li>
<li>Postal Code
</li>
<li>City
</li>
<li>Province
</li>
<li>Country (mandatory field)
</li>
</ul>

<a id="toc34" name="toc34"></a>
<h3>5.3.3. Geographic Coverage</h3>
<p>
<img align="middle" src="screenshots/geographic_coverage.png" border="0" alt=""/>
</p>
<p>
In this section, the manager can describe the geographic coverage of the resource by drawing it on a map.
</p>
<h5>Using the map</h5>
<p>
The manager can navigate on the map by clicking and dragging the cursor around and can zoom using the scale on the left of the map. Double-clicking somewhere on the map will zoom and centre the map on that point. 
</p>
<h5>Creating a new area</h5>
<p>
<img align="middle" src="screenshots/map_area.png" border="0" alt=""/>
</p>
<p>
The manager must click on the grey select area button in the top right corner of the map. Clicking and dragging with the  mouse will define the geographic coverage area. Only one area can be created per map. 
</p>
<h5>Description</h5>
<p>
The manager can describe the geographic coverage in the box below the map.
</p>
<a id="toc35" name="toc35"></a>
<h3>5.3.4. Taxonomic Coverage</h3>
<p>
<img align="middle" src="screenshots/taxonomic_coverage.png" border="0" alt=""/>
</p>
<h4>5.3.4.1. Taxonomic Metadata</h4>
<dl>
<dt>General Taxonomic Coverage Description </dt><dd>
<p></p>
</dd>
<dt>Taxonomic Keywords </dt><dd>
</dd>
</dl>

<h4>5.3.4.2. Lowest Common Taxon</h4>
<dl>
<dt>Scientific Name (mandatory field)</dt><dd>
<p></p>
</dd>
<dt>Common Name </dt><dd>
<p></p>
</dd>
<dt>Rank (mandatory field)</dt><dd>
</dd>
</dl>

<a id="toc36" name="toc36"></a>
<h3>5.3.5. Temporal Coverage</h3>
<p>
<img align="middle" src="screenshots/temporal_coverage.png" border="0" alt=""/>
</p>
<p>
The manger must fill in the temporal coverage of the collection of information related to the resource: start and end date. The dates must be filled in using the format "YYYY/MM/DD" (e.g. 2003/04/22). If the resource covers a single day, the manager can enter a single date and check the corresponding checkbox. 
</p>
<a id="toc37" name="toc37"></a>
<h3>5.3.6. General Keywords</h3>
<p>
<img align="middle" src="screenshots/keywords.png" border="0" alt=""/>
</p>
<p>
In this section, the manager can indicate a series of keywords defining/describing the resource. The different keywords must be separated by commas.
</p>
<a id="toc38" name="toc38"></a>
<h3>5.3.7. IPRights</h3>
<p>
On this page, the manager can indicate the information related to intellectual property rights (IPRights) attached to the resource.
</p>
<p>
<img align="middle" src="screenshots/IPR.png" border="0" alt=""/>
</p>
<p>
The GBIF promotes the use of the Creative Commons licenses, which allow the originator to keep his copyright and at the same time allow to copy and distribute the information under the conditions specified by the originator. For more information, see <a href="http://creativecommons.org/license/">http://creativecommons.org/license/</a>. 
</p>
<dl>
<dt>Purpose</dt><dd>
<p></p>
</dd>
<dt>Maintenance</dt><dd>
<p></p>
</dd>
<dt>IPRights</dt><dd>
</dd>
</dl>

<a id="toc39" name="toc39"></a>
<h3>5.3.8. Research Project</h3>
<p>
<img align="middle" src="screenshots/research_project.png" border="0" alt=""/>
</p>
<p>
If the resource is linked to a specific reseach project, the manager can describe it in this section.
</p>
<dl>
<dt>Title</dt><dd>
<p></p>
</dd>
<dt>Project Lead Organisation</dt><dd>
<p></p>
</dd>
<dt>Abstract</dt><dd>
<p></p>
</dd>
<dt>Funding</dt><dd>
<p></p>
</dd>
<dt>Study Area Description</dt><dd>
<p></p>
</dd>
<dt>Design Description</dt><dd>
</dd>
</dl>

<a id="toc40" name="toc40"></a>
<h3>5.3.9. Methods</h3>
<p>
<img align="middle" src="screenshots/methods.png" border="0" alt=""/>
</p>
<dl>
<dt>Methods</dt><dd>
</dd>
<dt>Sampling Description</dt><dd>
</dd>
<dt>Quality Control</dt><dd>
</dd>
</dl>

<a id="toc41" name="toc41"></a>
<h2>5.4. Resource Configuration (occurences and checklists only)</h2>
<p>
Once the resource has been created, the manager must define a data source and map properties.
</p>
<a id="toc42" name="toc42"></a>
<h3>5.4.1. Source Data</h3>
<p>
Data sources can be of two kinds in the IPT: File Data Sources or SQL Data Sources. The manager can define as many data sources as wanted, but it is necessary to define at least one.
</p>
<h4>5.4.1.1. File Data Sources</h4>
<p>
In order to define a file data source, the manager must upload a text file with a single header row and with tab separated values. Such <i>tab delimited text files</i> are easily created from any spreadsheet software or database management system.
</p>
<p>
Once the file has been uploaded, the manager can define whether the first row of the file is a header or not, by checking or unchecking the <i>column headers</i> box and pressing the <i>save</i> button. All the data fields will then be named after this header. If not set, generic names (col001, col002, col003 and so on) will be used.
</p>
<p>
When done adding data sources, the manager can press the <i>Next</i> button to go to the <i>Property Mappings</i> page.
</p>
<h4>5.4.1.2. SQL Data Sources</h4>
<p>
In order to define a SQL data source, the manager must first configure a database connection, then add some SQL select statements to create views on the data.
</p>
<p>
Pressing the <i>Edit</i> button on the <i>Source Data</i> page will bring the manager to the <i>SQL Settings</i> page. This is the page where the database connection will be defined. To this effect, the following information is needed: the database type, the database connection URL, the database user and the database password. The right Java DataBase Connection (JDBC) driver must also be installed. Many of them are already bundled with the IPT. It is possible to add new ones, by downloading them and adding the <i>jar</i> file to the ITP <i>lib</i> folder and restarting the application server.
</p>
<p>
The <i>SQL Settings</i> page also gives a list of important parameters for the most used databases.
</p>
<dl>
<dt>Database Type</dt><dd>
  the manager must define the type of the database holding the data. If his particular system is not in the list, he can use a generic ODBC or choose the <i>other</i> option and define his own driver class.
</dd>
<dt>Database Connection URL</dt><dd>
  the manager must fill in the URL of the database connection. the format to be used is explained in the second part of the <i>SQL Settings</i> page. The manager will generally need to know the host or server (<i>localhost</i> if the database is on the same machine as the IPT), the port (default ports are given for most used databases), and the name of the database (to be asked to the database administrator). For instance, for a local MySQL database called <i>test</i>, the database connection URL will be jdbc:mysql://localhost:3306/test.
</dd>
<dt>Database user</dt><dd>
  the username of a database user with SELECT rights
</dd>
<dt>Database password</dt><dd>
  the corresponding password
</dd>
</dl>

<p>
Once all the fields have been filled in, the form can be saved. The <i>Source Data</i> page will be loaded again and where more data sources can be added. Otherwise, pressing the <i>Next</i> button will display the <i>Property Mappings</i> page. 
</p>
<a id="toc43" name="toc43"></a>
<h3>5.4.2. Property Mappings</h3>
<p>
Data in the IPT is organised along a star schema: a fixed table holds Darwin Core terms and is linked to a number of extension tables (in a one-to-many relationship) that can be optionally configured and defined by the IPT administrator (see <i>Extensions</i> section above). Each extension can hold multiple records for a single core record, e.g. there can be many images for a species or occurrence.
</p>
<p>
The <i>Property Mappings</i> page displays a list of the existing mappings, that can be edited, and gives the possibility to add new mappings.
</p>
<p>
When done adding or editing mappings, the manager can press the <i>Next</i> button to go to the <i>Cache</i> page.
</p>
<h4>5.4.2.1. Your Existing Mappings</h4>
<p>
When defining new data sources, the IPT will automatically map those fields whose name fits a Darwin Core term or the field name of an installed extension to the farthest extend possible. These mappings can be viewed or modified by pressing the <i>Edit</i> button.
</p>
<p>
The page is split in three parts:
</p>
<dl>
<dt>ID properties</dt><dd>
  A list of all properties used as identifiers
</dd>
<dt>Property Mappings</dt><dd>
  A list of all the selected extension or core properties that have been mapped to a data source field.
</dd>
<dt>Available Properties</dt><dd>
  A list of all the selected extension or core properties that have not been mapped to a data source field.
</dd>
</dl>

<h5>5.4.2.1.1. ID Properties</h5>
<p>
In this section, the manager can define which fields are used as identifiers (IDs). 
</p>
<h5>DarwinCore mapping</h5>
<p>
If the source is mapped to DarwinCore, the following fields are to be filled in:
</p>
<dl>
<dt>Source ID for record (mandatory field)</dt><dd>
  The sourceID is the local ID for each core record that extensions can link to. It is also used to compare an existing record when a new version is imported. It is a required field as the IPT currently doesn't support sources without identifiers.
</dd>
<dt>GUID for record</dt><dd>
  The GUID (Globally Unique IDentifier) is optional but will be generated automatically if not mapped. It is used as a public ID for published records.
</dd>
<dt>Link to record details</dt><dd>
  This is a link to the HTML details page for a single record. It can link to any public webpage (i.e. not in the IPT) holding the data. If this link is not available in the database, the manager can use the <i>Link template with &lt;ID&gt; placeholder</i> (see below).
</dd>
<dt>Link template with &lt;ID&gt; placeholder</dt><dd>
  The manager can enter a direct link to an external webpage. The manager can use <i>&lt;ID&gt;</i> as a placeholder that will be dynamically replaced for every record. Each record can then be linked to a specific webpage.
</dd>
</dl>

<p>
NB: The <i>save</i> button will save the information that was entered in the fields. The <i>Done</i> button brings the manager back to the main <i>Property Mappings</i> page <b>without saving the information</b>.
</p>
<h5>Extension mapping</h5>
<p>
If the source is mapped to an extension, only one field is to be filled in:
</p>
<dl>
<dt>Source ID for record (mandatory field)</dt><dd>
  The source ID is the local ID for an extension record that the core can link to.
</dd>
</dl>

<h5>5.4.2.1.2. Property Mappings</h5>
<p>
Each Darwin Core or extension property mapped to a data source field is displayed in the list, followed by the data source field. This field can be changed as the drop-down menu displays the full list of fields of a given data source. It is also possible to assign a fixed value (a common value for all records, i.e. the project/collection code) by entering it in the text field (and choosing a blank value in the drop-down).
</p>
<p>
If controlled vocabulary has been defined for the Darwin Core or the extension, it is not possible to manually enter a fixed value. In this case, a <i>Terms</i> button and a new drop down are available. Managers have to use one of the controlled terms either as static values by selecting one from the drop down, or by selecting a source column that contains such values. As the source often uses different terms than the ones defined in the controlled vocabulary, the manager will be able to transform/map each value from the source to a controlled term in the vocabulary.
</p>
<h5>5.4.2.1.3. Available Properties</h5>
<p>
This section displays a list of the selected extension or core properties not yet mapped to a data source field. They are grouped in subsections that can be expanded by clicking on the green arrow. To map an available property to a data source field, the manager must click on the said property that will then move to the <i>property mappings</i> section. The manager can then choose which data source field should be mapped to it (by selecting it in the drop-down).
</p>
<h4>5.4.2.2. Add New Mapping</h4>
<p>
To add a new mapping, the manager must first choose what extension will be mapped to which data source, then press the <i>Add</i> button.
</p>
<p>
The page is split in three parts:
</p>
<dl>
<dt>ID properties</dt><dd>
  A list of all properties used as identifiers.
</dd>
<dt>Available Properties</dt><dd>
  A list of all the selected extension or core properties that have not been mapped to a data source field.
</dd>
<dt>Property Mappings</dt><dd>
  A list of all the selected extension or core properties that have already been mapped to a data source field.
</dd>
</dl>

<h5>5.4.2.2.1. ID Properties</h5>
<p>
In this section, the manager can define which fields are used as identifiers (IDs). 
</p>
<h5>DarwinCore mapping</h5>
<p>
If the source is mapped to DarwinCore, the following fields are to be filled in:
</p>
<dl>
<dt>Source ID for record (mandatory field)</dt><dd>
  The sourceID is the local ID for one core record that extensions can link to. Tt is also used to compare an existing record when a new version is imported. It is a required field as the IPT currently doesn't support sources without identifiers.
</dd>
<dt>GUID for record</dt><dd>
  The GUID (Globally Unique IDentifier) is optional but will be autogenerated if not mapped. It is used as public ID for published records.
</dd>
<dt>Link to record details</dt><dd>
  This is a link to the HTML details page for a single record. It can link to any public webpage (i.e. not in the IPT) holding the data. If this link is not available in the database, the manager can use the <i>Link template with &lt;ID&gt; placeholder</i> (see below).
</dd>
<dt>Link template with &lt;ID&gt; placeholder</dt><dd>
  The manager can enter a direct link to an external webpage. The manager can use <i>&lt;ID&gt;</i> as a placeholder that will be dynamically replaced for every record. Each record can then be linked to a specific webpage.
</dd>
</dl>

<p>
NB: The <i>save</i> button will save the information that was entered in the fields. The <i>Done</i> button brings the manager back to the main <i>Property Mappings</i> page <b>without saving the information</b>.
</p>
<h5>Extension mapping</h5>
<p>
If the source is mapped to an extension, only one field is to be filled in:
</p>
<dl>
<dt>Source ID for record (mandatory field)</dt><dd>
  The source ID is the local ID for an extension record that the core can link to.
</dd>
</dl>

<h5>5.4.2.2.2. Available Properties</h5>
<p>
This section displays a list of the selected extension or core properties not yet mapped to a data source field. They are grouped in subsections that can be expanded by clicking on the green arrow. To map an available property to a data source field, the manager must click on the said property that will then move to the <i>property mappings</i> section. 
</p>
<h5>5.4.2.2.3. Property Mappings</h5>
<p>
After having added some properties to  the list, the manager can choose which data source field should be mapped to them (by selecting it in the drop-down).
</p>
<p>
When done, the <i>Save</i> button should be pressed before the <i>Done</i> button.
</p>
<a id="toc44" name="toc44"></a>
<h3>5.4.3. Cache</h3>
<p>
The cache page allows the manager to actually import the data into the IPT. This is done by pressing the <i>Upload</i> button. Depending on the amount of data, the operation can take a long time. Once done, the IPT displays a confirmation message.
</p>
<p>
The cache can be rebuilt at any time when the manager wants to update the information with new or updated sources.
</p>
<a id="toc45" name="toc45"></a>
<h2>5.5. Resource Publication</h2>
<a id="toc46" name="toc46"></a>
<h2>5.6. Resource Edition</h2>

<!-- xhtml code generated by txt2tags 2.5 (http://txt2tags.sf.net) -->
<!-- cmdline: txt2tags -t xhtml -\-toc /Volumes/HD1/areve/Desktop/gbif-ipt-docs/IPT_documentation.txt -->
</body></html>
